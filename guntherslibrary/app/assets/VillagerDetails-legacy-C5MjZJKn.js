System.register(["./index-legacy-At7YkI8I.js","./objects-legacy-D3ucy5zm.js"],function(e,a){"use strict";var l,t,s,i,r,n,o,u,v,d,c,m,f,p,g,h,y,b,k,x,L,S,I,D,_,M,$,F,w;return{setters:[e=>{l=e.d,t=e.u,s=e.c,i=e.a,r=e.b,n=e.i,o=e.j,u=e.F,v=e.e,d=e.k,c=e.t,m=e.f,f=e.g,p=e.N,g=e.C,h=e.p,y=e.q,b=e.s,k=e._,x=e.r,L=e.y,S=e.B,I=e.o,D=e.n,_=e.w,M=e.m},e=>{$=e.o,F=e.f,w=e.c}],execute:function(){var a=document.createElement("style");a.textContent=".birthday[data-v-f4cf4ea9]{display:flex;gap:.6rem;align-items:center;font-size:1.6rem;font-weight:600;padding:0 .8rem;margin-inline:-.8rem}.loveList[data-v-f4cf4ea9]{display:flex;flex-wrap:wrap;gap:.4rem 1.2rem;font-size:1.2rem}.loveList>div[data-v-f4cf4ea9]{display:flex;gap:.2rem;align-items:center}.loveList>div .appIcon[data-v-f4cf4ea9]{flex:0 0 auto}.villagerHearts[data-v-f4cf4ea9]{display:grid;grid-template-columns:repeat(10,1fr);justify-content:space-around;gap:.4rem 0}.villagerHearts button[data-v-f4cf4ea9]{position:relative;min-width:.1rem;height:2.4rem;overflow:hidden}.villagerHearts button div[data-v-f4cf4ea9]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.villagerHearts button[data-v-f4cf4ea9]:disabled{opacity:.3}.scheduleSeasonForm .btn[data-v-f4cf4ea9]{padding-inline:.2rem}.scheduleDaysForm[data-v-f4cf4ea9]{display:grid;grid-template-columns:5rem 1fr 5rem;gap:.2rem;margin-block:.4rem}.selectWrapper[data-v-f4cf4ea9]{position:relative}.scheduleEventsForm[data-v-f4cf4ea9]{display:flex;flex-wrap:wrap;gap:1.8rem;margin-block-start:1.8rem;margin-block-end:.8rem}.scheduleList[data-v-f4cf4ea9]{margin-block-end:.8rem}.scheduleList table[data-v-f4cf4ea9]{width:100%;border-collapse:collapse}.scheduleList table thead th[data-v-f4cf4ea9]{padding:.4rem .8rem;text-align:left;font-weight:700;font-size:1.2rem;text-transform:uppercase;background-color:hsl(from var(--text) h s l / .05);border-bottom:1px solid hsl(from var(--text) h s l / .1)}.scheduleList table thead th[data-v-f4cf4ea9]:first-child{width:10ch}.scheduleList table tbody tr td[data-v-f4cf4ea9]{font-size:1.4rem;padding:.8rem;border-bottom:1px solid hsl(from var(--text) h s l / .1)}.birthday[data-v-28f2d914]{display:flex;gap:.6rem;align-items:center;font-size:1.6rem;font-weight:600;padding:0 .8rem;margin-inline:-.8rem}.loveList[data-v-28f2d914]{display:flex;flex-wrap:wrap;gap:.4rem 1.2rem;font-size:1.2rem}.loveList>div[data-v-28f2d914]{display:flex;gap:.2rem;align-items:center}.loveList>div .appIcon[data-v-28f2d914]{flex:0 0 auto}.villagerHearts[data-v-28f2d914]{display:grid;grid-template-columns:repeat(10,1fr);justify-content:space-around;gap:.4rem 0}.villagerHearts button[data-v-28f2d914]{position:relative;min-width:.1rem;height:2.4rem;overflow:hidden}.villagerHearts button div[data-v-28f2d914]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.villagerHearts button[data-v-28f2d914]:disabled{opacity:.3}.scheduleSeasonForm .btn[data-v-28f2d914]{padding-inline:.2rem}.scheduleDaysForm[data-v-28f2d914]{display:grid;grid-template-columns:5rem 1fr 5rem;gap:.2rem;margin-block:.4rem}.selectWrapper[data-v-28f2d914]{position:relative}.scheduleEventsForm[data-v-28f2d914]{display:flex;flex-wrap:wrap;gap:1.8rem;margin-block-start:1.8rem;margin-block-end:.8rem}.scheduleList[data-v-28f2d914]{margin-block-end:.8rem}.scheduleList table[data-v-28f2d914]{width:100%;border-collapse:collapse}.scheduleList table thead th[data-v-28f2d914]{padding:.4rem .8rem;text-align:left;font-weight:700;font-size:1.2rem;text-transform:uppercase;background-color:hsl(from var(--text) h s l / .05);border-bottom:1px solid hsl(from var(--text) h s l / .1)}.scheduleList table thead th[data-v-28f2d914]:first-child{width:10ch}.scheduleList table tbody tr td[data-v-28f2d914]{font-size:1.4rem;padding:.8rem;border-bottom:1px solid hsl(from var(--text) h s l / .1)}\n/*$vite$:1*/",document.head.appendChild(a);const O={class:"accordionItem"},C={class:"accordionHeader"},N={class:"accordionContent"},A={key:0,class:"tagGroup tagGroupSpanFlex"},G={key:0,class:"tag"},B={class:"miniLabel"},J={key:0},j={key:1},R={style:{"max-width":"29rem"}},W=["onClick"],z={class:"miniLabel"},T={style:{"max-width":"29rem"}},H={key:1,class:"tagGroup"},V=k(l({__name:"VillagerGiftList",props:{giftList:{},type:{}},setup(e){const a=t();p();const l=e;return(e,t)=>{const p=d("icon");return i(),s("details",O,[r("summary",C,["love"===l.type?(i(),s(u,{key:0},[v(p,{name:"emoji-heart",size:"1.6"}),t[0]||(t[0]=o(" Loved ",-1))],64)):n("",!0),"like"===l.type?(i(),s(u,{key:1},[v(p,{name:"emoji-smile"}),t[1]||(t[1]=o(" Liked ",-1))],64)):n("",!0),"neutral"===l.type?(i(),s(u,{key:2},[v(p,{name:"emoji-expressionless"}),t[2]||(t[2]=o(" Neutral ",-1))],64)):n("",!0),"dislike"===l.type?(i(),s(u,{key:3},[v(p,{name:"emoji-sad"}),t[3]||(t[3]=o(" Disliked ",-1))],64)):n("",!0),"hate"===l.type?(i(),s(u,{key:4},[v(p,{name:"emoji-frustrated"}),t[4]||(t[4]=o(" Hated ",-1))],64)):n("",!0),o(" ("+c(l.giftList?l.giftList.filter(e=>e.universal&&m(a).settings.villager.showUniversalGifts||!e.universal).length:0)+") ",1)]),r("div",N,[l.giftList&&l.giftList.length?(i(),s("div",A,[(i(!0),s(u,null,f(l.giftList,(e,l)=>(i(),s(u,{key:l},[(e.universal&&m(a).settings.villager.showUniversalGifts||!e.universal)&&(e.sprite||e.category&&e.category.startsWith("-")&&m(g)[e.category]||e.context&&m(g)[`context-${e.context.toLowerCase().replace(" ","_")}`]||e.name)?(i(),s(u,{key:0},[e.sprite?(i(),s("button",{key:1,class:"tag btn",onClick:l=>(e=>{if(!e||!e.qualifiedId)return;let l=a.searchIndex.find(a=>a.qualifiedId===e.qualifiedId);l||(l=a.searchIndex.find(a=>a.id===e.id)),l&&a.navigateWithAppType(l)})(e)},[r("div",{class:"appIcon",style:y(m(b)({index:e.sprite,texture:e.texture,scale:2}))},null,4),r("div",z,[r("div",T,[o(c(e.category?m(g)[e.category]?m(g)[e.category].name:"unknown":e.context?m(g)[`context-${e.context.toLowerCase().replace(" ","_")}`]?m(g)[`context-${e.context.toLowerCase().replace(" ","_")}`].name:e.context:e.name)+" ",1),e.universal?(i(),h(p,{key:0,name:"globe",size:"1"})):n("",!0)])])],8,W)):(i(),s("div",G,[e.category&&e.category.startsWith("-")&&m(g)[e.category]?(i(),h(p,{key:0,class:"appIcon",name:m(g)[e.category].icon},null,8,["name"])):e.context&&m(g)[`context-${e.context.toLowerCase().replace(" ","_")}`]?(i(),h(p,{key:1,class:"appIcon",name:m(g)[`context-${e.context.toLowerCase().replace(" ","_")}`].icon},null,8,["name"])):n("",!0),r("div",B,[e.context?(i(),s("small",J,"Type")):e.category?(i(),s("small",j,"Category")):n("",!0),r("div",R,[o(c(e.category?m(g)[e.category]?m(g)[e.category].name:"unknown":e.context?m(g)[`context-${e.context.toLowerCase().replace(" ","_")}`]?m(g)[`context-${e.context.toLowerCase().replace(" ","_")}`].name:e.context:e.name)+" ",1),e.universal?(i(),h(p,{key:0,name:"globe",size:"1"})):n("",!0)])])]))],64)):n("",!0)],64))),128))])):(i(),s("div",H,[...t[5]||(t[5]=[r("div",{class:"tag"},"N/A",-1)])]))])])}}}),[["__scopeId","data-v-f4cf4ea9"]]),U=(e,a,l)=>{var t;if(!e)return{scheduleId:"",schedule:[],fallback:!1};const s=null===(t=e.parsedSchedule.find(e=>e.id===l))||void 0===t?void 0:t.schedule;if(!s)return{scheduleId:"",schedule:[],fallback:!1};const i=[];let r=null;for(let n=0;n<s.length;n++){const t=s[n],o=t=>{const u=t.split("|"),v=u[0].split(" ");function d(e){return u[0].startsWith(e)}switch(!0){case d("GOTO"):const t="season"===v[1]?a.Season.value:v[1],c=U(e,a,t);return i.push(...c.schedule),void(r={scheduleId:c.scheduleId,schedule:c.schedule,fallback:c.fallback});case d("NOT"):if("friendship"!==u[1])break;a&&a[`${v[2]}_${v[3]}`]&&!0===a[`${v[2]}_${v[3]}`].value&&(r={scheduleId:l,schedule:i,fallback:!0});break;case d("MAIL"):a&&a[`MAIL_${v[1]}`]&&!0===a[`MAIL_${v[1]}`].value?o(s[n+2]):o(s[n+1]),n+=2;break;default:i.push({time:u[0],location:u[1]})}};o(t)}return r||{scheduleId:l,schedule:i,fallback:!1}},E=(e,a,l,t)=>{if(!e||!l||!a)return null;const s=!!a.Marriage&&a.Marriage.value;if(t){const l=U(e,a,"rain2");return l.scheduleId?(JSON.parse(JSON.stringify(l.schedule)),{scheduleId:"Rain2",times:l.schedule}):null}const i=()=>{if(s)return{scheduleId:"defaultMarried",times:[{time:"600",location:"At the Farmhouse"}]};const l=U(e,a,"spring");if(l)return{scheduleId:"spring",times:l.schedule};const t=U(e,a,"default");return t?{scheduleId:"default",times:t.schedule}:null},r=l.filter(e=>!s||e.detail.marriage);JSON.parse(JSON.stringify(r));let n=r.find(l=>{const t=l.keys;if("marriageJob"===l.id&&s){if("Harvey"===e.displayName||"Maru"===e.displayName){if("Tue"===a.DayOfWeek.value||"Thu"===a.DayOfWeek.value)return!0}else if("Penny"===e.displayName&&("Tue"===a.DayOfWeek.value||"Wed"===a.DayOfWeek.value||"Fri"===a.DayOfWeek.value))return!0;return!1}return l.id,!!t.length&&t.every(l=>{const t=l.split("|"),s=a[t[0]];return!("Rain2"===t[0]||("Hearts"===t[0]?!a[`${e.displayName.replace(/ /g,"")}_${t[1]}`]||!0!==a[`${e.displayName.replace(/ /g,"")}_${t[1]}`].value:t.length<=1?!s||!0!==s.value:!s||s.value.toString()!==t[1].toString()))})});if(n&&JSON.parse(JSON.stringify(n)),!n){const e=i();return JSON.parse(JSON.stringify(e)),e}const o=t=>{const s=U(e,a,t);if(s.fallback){const e=l.findIndex(e=>e.id===t);e&&e<l.length-1&&(n=l[e+1],o(n.id))}else if(s&&s.schedule)return{scheduleId:s.scheduleId,times:s.schedule};return null},u=o(n.id);if(!u||!u.times.length){const e=i();return JSON.parse(JSON.stringify(e)),e}return JSON.parse(JSON.stringify(u)),u},q={key:0,class:"mainList"},P={class:"detailIntro"},K={class:"detailIntroContainer"},Y={class:"detailIntroSprite"},Q={class:"detailIntroContent"},X={class:"birthday"},Z={class:"miniLabel"},ee={key:0,class:"loveList"},ae={key:0},le={class:"miniLabel"},te={class:"tagGroup tagGroupSpanFlex"},se={class:"villagerHearts btnBlock box redMetal"},ie=["disabled","onClick"],re={key:0,class:"box twigsLight"},ne={class:"boxHeader"},oe={key:0,class:"boxContent",style:{"padding-block-end":"0.8rem"}},ue={class:"scheduleSeasonForm tagGroup tagGroupSpan"},ve={class:"scheduleDaysForm"},de={class:"selectWrapper"},ce=["value"],me={class:"scheduleEventsForm"},fe={key:0,class:"fieldInline"},pe=["id","onClick"],ge={key:1,class:"boxContent"},he={class:"scheduleList"},ye={class:"scheduleList"},be={key:2,class:"boxContent"},ke={class:"box twigsLight"},xe={class:"boxHeader"},Le={class:"accordion"},Se={class:"boxContent",style:{"margin-top":"0.8rem"}},Ie={class:"box twigsLight"},De={class:"boxHeader"},_e={class:"boxContent"},Me={class:"tagGroup tagGroupSpanFlex"},$e={class:"tagGroup tagGroupSpanFlex"},Fe={class:"tag"},we={class:"miniLabel"},Oe={class:"tag"},Ce={class:"miniLabel"},Ne={class:"tag"},Ae={class:"miniLabel"},Ge={class:"tagGroup tagGroupSpanFlex"},Be={class:"tag"},Je={class:"miniLabel"},je={class:"tag"},Re={class:"miniLabel"},We={class:"tag"},ze={class:"miniLabel"},Te={class:"boxHeader"},He={class:"boxContent"},Ve={key:0,class:"tagGroup"},Ue=["onClick"],Ee={class:"miniLabel"},qe={class:"miniLabel"},Pe={key:1,class:"tagGroup"},Ke=l({__name:"VillagerDetails",setup(e){const a=t(),l=p(),k=x(),O=x(!0);x();const C=x(),N=x(),A=x(),G=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],B=["spring","summer","fall","winter"],J=L(()=>k.value?k.value.displayName:"Villager"),j=L(()=>k.value&&a.farms[a.farm].collections.villager&&a.farms[a.farm].collections.villager[k.value.id]?a.farms[a.farm].collections.villager[k.value.id]:{hearts:0,dating:!1,married:!1}),R=()=>{k.value&&!a.farms[a.farm].collections.villager[k.value.id]&&(a.farms[a.farm].collections.villager[k.value.id]={collected:!1,crafted:!1,donated:!1,shipped:!1,mono:!1,poly:!1,hearts:0,dating:!1,married:!1})},W=()=>{!k.value||!j.value||j.value.hearts||j.value.dating||j.value.married||delete a.farms[a.farm].collections.villager[k.value.id]},z=()=>{k.value&&(R(),j.value.dating=!j.value.dating,!j.value.dating&&!j.value.married&&j.value.hearts&&j.value.hearts>8&&(j.value.hearts=8),j.value.dating&&(j.value.married=!1),!j.value.married&&j.value.hearts&&j.value.hearts>10&&(j.value.hearts=10),W(),a.saveFarms())},T=()=>{k.value&&(R(),j.value.married=!j.value.married,!j.value.dating&&!j.value.married&&j.value.hearts&&j.value.hearts>8&&(j.value.hearts=8),!j.value.married&&j.value.hearts&&j.value.hearts>10&&(j.value.hearts=10),j.value.married&&(j.value.dating=!1),W(),a.saveFarms())},H=()=>{var e;const a=E(k.value,A.value,null===(e=k.value)||void 0===e?void 0:e.parsedSchedule);a&&(C.value=a,Xe("âœ… Current Schedule",JSON.parse(JSON.stringify(C.value))))},U=()=>{if(A.value&&A.value.DayOfMonth.value){const e=parseInt(A.value.DayOfMonth.value);e>1?A.value.DayOfMonth.value=(e-1).toString():(A.value.DayOfMonth.value="28",A.value&&(A.value.Season.value=B[(B.indexOf(A.value.Season.value)+3)%4],a.farms[a.farm].calendar.month=A.value.Season.value.charAt(0).toUpperCase()+A.value.Season.value.slice(1))),a.farms[a.farm].calendar.day=parseInt(A.value.DayOfMonth.value),a.saveFarms()}},Ke=()=>{if(A.value&&A.value.DayOfMonth.value){const e=parseInt(A.value.DayOfMonth.value);e<28?A.value.DayOfMonth.value=(e+1).toString():(A.value.DayOfMonth.value="1",A.value&&(A.value.Season.value=B[(B.indexOf(A.value.Season.value)+1)%4],a.farms[a.farm].calendar.month=A.value.Season.value.charAt(0).toUpperCase()+A.value.Season.value.slice(1))),a.farms[a.farm].calendar.day=parseInt(A.value.DayOfMonth.value),a.saveFarms()}},Ye=e=>{var a;return null!==(a=G[(e-1)%7])&&void 0!==a?a:""},Qe=L(()=>{if(k.value&&A.value){var e,a;const l=null!==(e=A.value.Season.value)&&void 0!==e?e:"spring",t=parseInt(null!==(a=A.value.DayOfMonth.value)&&void 0!==a?a:"1");return"summer"===l&&[5,6,7,14,15,16,18,23].includes(t)}return!1});S(A,(e,a)=>{a&&k.value&&A.value&&((()=>{if(k.value&&A.value){var e,a;const l=null!==(e=A.value.Season.value)&&void 0!==e?e:"spring",t=parseInt(null!==(a=A.value.DayOfMonth.value)&&void 0!==a?a:"1"),s=G[(t-1)%7];A.value.DayOfWeek.value=s;const i=t>=15&&t<=17&&"spring"===l;A.value.MAIL_ccVault&&!0===A.value.MAIL_ccVault.value||A.value.Bus&&!0===A.value.Bus.value?(A.value.DesertFestival&&(A.value.DesertFestival.value=i),A.value.DesertFestival_1&&(A.value.DesertFestival_1.value=15===t&&i),A.value.DesertFestival_2&&(A.value.DesertFestival_2.value=16===t&&i),A.value.DesertFestival_3&&(A.value.DesertFestival_3.value=17===t&&i)):(A.value.DesertFestival&&(A.value.DesertFestival.value=!1),A.value.DesertFestival_1&&(A.value.DesertFestival_1.value=!1),A.value.DesertFestival_2&&(A.value.DesertFestival_2.value=!1),A.value.DesertFestival_3&&(A.value.DesertFestival_3.value=!1));const r=t>=20&&t<=21&&"summer"===l;A.value.TroutDerby&&(A.value.TroutDerby.value=r);const n=t>=12&&t<=13&&"winter"===l;A.value.SquidFest&&(A.value.SquidFest.value=n),A.value.GreenRain&&!Qe.value&&(A.value.GreenRain.value=!1),(A.value.MAIL_ccVault&&A.value.MAIL_communityCenter&&!0===A.value.MAIL_communityCenter.value||A.value.MAIL_ccVault&&A.value.MAIL_jojaMart&&!0===A.value.MAIL_jojaMart.value)&&(A.value.MAIL_ccVault.value=!0)}})(),H())},{deep:!0});const Xe=(e,l)=>{a.logs&&console.info("[ðŸªµ] ðŸ“… SCHEDULE:",e,l?JSON.parse(JSON.stringify(l)):"")};return I(()=>{if(k.value=a.getItemById(l.params.id,"villager"),a.header={hideIcon:!0,hideUp:!1,upPath:"/npc/villager",label:J.value,bookmark:{appType:k.value.appType,id:k.value.id,name:J.value,link:`/npc/villager/${k.value.id}`,icon:`npc-${k.value.displayName.toLowerCase()}`,scale:2}},a.logs&&console.info("[ðŸªµ] âž¡ï¸ CURRENT VILLAGER:",JSON.parse(JSON.stringify(k.value))),k.value&&k.value.parsedSchedule&&k.value.parsedSchedule.length){a.logs&&Xe("Villager has schedules",JSON.parse(JSON.stringify(k.value.parsedSchedule))),O.value=!0;const e=(e=>{const a={Rain:1,GreenRain:2,MAIL_train:3,MAIL_beachBridgeFixed:4,Bus:5,MAIL_ccVault:6,MAIL_communityCenter:7,MAIL_jojaMart:8,Marriage:9,MAIL_saloonSportsRoom:10};if(!e)return null;let l={DayOfMonth:{id:"DayOfMonth",label:"Day of Month",value:"1"},DayOfWeek:{id:"DayOfWeek",label:"Day of Week",value:"Mon"},Season:{id:"Season",label:"Season",value:"spring"}};if(e.parsedSchedule.forEach(a=>{if(a.detail.event&&"Bus"===a.detail.event&&!l.Bus){const e={Bus:{id:"Bus",label:"Bus repaired",value:!1}};l={...l,...e}}if(a.detail.event&&!l[a.detail.event.replace(/ /g,"")]){const e={[a.detail.event.replace(/ /g,"")]:{id:a.detail.event.replace(/ /g,""),label:a.detail.event,value:!1}};l={...l,...e}}if(a.detail.marriage&&!l.Marriage){const e={Marriage:{id:"Marriage",label:"Marriage",value:!1}};l={...l,...e}}if(a.detail.festival&&!a.detail.festivalDay&&!l[a.detail.festival.replace(/ /g,"")]){const e={[a.detail.festival.replace(/ /g,"")]:{id:a.detail.festival.replace(/ /g,""),label:a.detail.festival,value:!1}};l={...l,...e}}if(a.detail.festival&&a.detail.festivalDay&&!l[`${a.detail.festival.replace(/ /g,"")}_${a.detail.festivalDay}`]){const e={[`${a.detail.festival.replace(/ /g,"")}_${a.detail.festivalDay}`]:{id:`${a.detail.festival.replace(/ /g,"")}_${a.detail.festivalDay}`,label:`${a.detail.festival} (Day ${a.detail.festivalDay})`,value:!1}};l={...l,...e}}if(a.detail.hearts&&!l[`${e.displayName.replace(/ /g,"")}_${a.detail.hearts}`]){const t={[`${e.displayName.replace(/ /g,"")}_${a.detail.hearts}`]:{id:`${e.displayName.replace(/ /g,"")}_${a.detail.hearts}`,label:`${a.detail.hearts} hearts with ${e.displayName}`,value:!1}};l={...l,...t}}const t=((e,a)=>{if(!e)return null;if(!a.schedule)return null;const l=a.schedule;let t={};for(let s=0;s<l.length;s++){const e=l[s].split(" ");switch(e[0]){case"GOTO":break;case"NOT":if("friendship"!==e[1])break;if(!t[`${e[2].replace(/ /g,"")}_${e[3]}`]){const a={[`${e[2].replace(/ /g,"")}_${e[3]}`]:{id:`${e[2].replace(/ /g,"")}_${e[3]}`,label:`${e[3]} hearts with ${e[2]}`,value:!1}};t={...t,...a}}if(e[4]&&e[5]&&!t[`${e[4].replace(/ /g,"")}_${e[5]}`]){const a={[`${e[4].replace(/ /g,"")}_${e[5]}`]:{id:`${e[4].replace(/ /g,"")}_${e[5]}`,label:`${e[5]} hearts with ${e[4]}`,value:!1}};t={...t,...a}}break;case"MAIL":if(!t[`MAIL_${e[1].replace(/ /g,"")}`]){const a={communityCenter:"Community Center restored",jojaMart:"JojaMart membership completed",ccVault:"Bus repaired",saloonSportsRoom:"Seen Alex's 14 heart event",beachBridgeFixed:"Beach bridge repaired",shanePK:"Seen Shane's 14 heart event",train:"Train/Spa accessible",leoMainland:"6 hearts with Leo"};if(a[e[1]]){const l={[`MAIL_${e[1].replace(/ /g,"")}`]:{id:`MAIL_${e[1].replace(/ /g,"")}`,label:a[e[1]],value:!1}};t={...t,...l}}}}}return t})(e,a);t&&(l={...l,...t})}),(l.DesertFestival||l.DesertFestival_1||l.DesertFestival_2||l.DesertFestival_3)&&!l.Bus&&!l.MAIL_ccVault){const e={MAIL_ccVault:{id:"MAIL_ccVault",label:"Bus repaired",value:!1}};l={...l,...e}}const t={};return Object.keys(l).sort((e,l)=>(a[e]||999)-(a[l]||999)).forEach(e=>{t[e]=l[e]}),t})(k.value);e&&(A.value=e),A.value&&Xe("Fields:",JSON.parse(JSON.stringify(A.value))),A.value&&(A.value.Season.value=a.farms[a.farm].calendar.month.toLowerCase(),A.value.DayOfMonth.value=a.farms[a.farm].calendar.day.toString(),A.value.DayOfWeek.value=Ye(a.farms[a.farm].calendar.day)),H(),(()=>{var e;const a=E(k.value,A.value,null===(e=k.value)||void 0===e?void 0:e.parsedSchedule,!0);a&&(N.value=a)})(),O.value=!1}}),(e,l)=>{const t=d("icon"),p=d("wiki-link"),x=d("app-footer-message"),L=d("app-fab");return i(),s("main",null,[k.value?(i(),s("div",q,[r("div",P,[r("div",K,[r("div",Y,[v(t,{class:"appIcon",name:`npc-${k.value.displayName.toLowerCase()}`,size:"4",trim:!1},null,8,["name"])]),r("div",Q,[r("div",X,[v(t,{name:"present",size:"2"}),r("div",Z,c(m($)(k.value.birthDay))+" of "+c(k.value.birthSeason.charAt(0).toUpperCase()+k.value.birthSeason.slice(1)),1)]),l[8]||(l[8]=r("div",{class:"detailIntroHr"},null,-1)),k.value.giftItems.love&&k.value.giftItems.love.length?(i(),s("div",ee,[(i(!0),s(u,null,f(k.value.giftItems.love,(e,a)=>(i(),s(u,{key:a},[e.universal?n("",!0):(i(),s("div",ae,[e.sprite?(i(),s("div",{key:0,class:"appIcon",style:y(m(b)({index:e.sprite,texture:e.texture,scale:1}))},null,4)):e.category&&e.category.startsWith("-")&&m(g)[e.category]?(i(),h(t,{key:1,class:"appIcon",name:m(g)[e.category].icon,size:"1"},null,8,["name"])):e.context&&m(g)[`context-${e.context.toLowerCase().replaceAll(" ","_")}`]?(i(),h(t,{key:2,class:"appIcon",name:m(g)[`context-${e.context.toLowerCase().replaceAll(" ","_")}`].icon,size:"1"},null,8,["name"])):n("",!0),r("div",le,c(e.category?m(g)[e.category]?m(g)[e.category].name:"unknown":e.context?e.context:e.name),1)]))],64))),128))])):n("",!0)])])]),r("div",te,[k.value.canBeRomanced?(i(),s("button",{key:0,class:D(["btn boxLight btnBlock",{active:j.value.dating}]),onClick:z},[v(t,{name:j.value.dating?"checkbox-active":"checkbox",size:"2"},null,8,["name"]),v(t,{name:"bouquet",size:"1.5",trim:!1}),l[9]||(l[9]=o(" Dating ",-1))],2)):n("",!0),k.value.canBeRomanced?(i(),s("button",{key:1,class:D(["btn boxLight btnBlock",{active:j.value.married}]),onClick:T},[v(t,{name:j.value.married?"checkbox-active":"checkbox",size:"2"},null,8,["name"]),v(t,{name:"pendant",size:"1.5",trim:!1}),l[10]||(l[10]=o(" Married ",-1))],2)):n("",!0),r("div",se,[(i(),s(u,null,f(14,e=>(i(),s(u,{key:e},[e<11||e>10&&j.value.married?(i(),s("button",{key:0,class:"btn btnText",disabled:e>8&&k.value.canBeRomanced&&!j.value.dating&&!j.value.married,onClick:l=>{return t=e,void(k.value&&(R(),j.value.hearts=j.value.hearts===t?0:t,W(),a.saveFarms()));var t}},[v(t,{name:e>8&&k.value.canBeRomanced&&!j.value.dating&&!j.value.married?"heart-disabled":j.value.hearts&&j.value.hearts>=e?"heart-filled":"heart-empty",size:"3",trim:!1},null,8,["name"])],8,ie)):n("",!0)],64))),64))])]),k.value.parsedSchedule&&k.value.parsedSchedule.length?(i(),s("div",re,[r("div",ne,[v(t,{name:"calendar"}),l[11]||(l[11]=o(" Schedule ",-1))]),!O.value&&C.value&&A.value?(i(),s("div",oe,[r("div",ue,[r("button",{class:D(["btn tertiary",{active:"spring"===A.value.Season.value}]),onClick:l[0]||(l[0]=()=>{A.value.Season.value="spring",m(a).farms[m(a).farm].calendar.month="Spring",m(a).saveFarms()}),"aria-label":"Spring"},[v(t,{name:"season-spring"})],2),r("button",{class:D(["btn tertiary",{active:"summer"===A.value.Season.value}]),onClick:l[1]||(l[1]=()=>{A.value.Season.value="summer",m(a).farms[m(a).farm].calendar.month="Summer",m(a).saveFarms()}),"aria-label":"Summer"},[v(t,{name:"season-summer"})],2),r("button",{class:D(["btn tertiary",{active:"fall"===A.value.Season.value}]),onClick:l[2]||(l[2]=()=>{A.value.Season.value="fall",m(a).farms[m(a).farm].calendar.month="Fall",m(a).saveFarms()}),"aria-label":"Fall"},[v(t,{name:"season-fall"})],2),r("button",{class:D(["btn tertiary",{active:"winter"===A.value.Season.value}]),onClick:l[3]||(l[3]=()=>{A.value.Season.value="winter",m(a).farms[m(a).farm].calendar.month="Winter",m(a).saveFarms()}),"aria-label":"Winter"},[v(t,{name:"season-winter"})],2)]),r("div",ve,[r("button",{class:"btn tertiary","aria-label":"Go to previous day",onClick:U},[v(t,{name:"arrow-outline-left"})]),r("div",de,[_(r("select",{class:"select",id:"dayOfMonth","aria-label":"Day of month","onUpdate:modelValue":l[4]||(l[4]=e=>A.value.DayOfMonth.value=e),onChange:l[5]||(l[5]=()=>{m(a).farms[m(a).farm].calendar.day=parseInt(A.value.DayOfMonth.value),m(a).saveFarms()})},[(i(),s(u,null,f(28,e=>r("option",{key:e,value:`${e}`},c(m($)(e))+" of "+c(A.value.Season.value.charAt(0).toUpperCase()+A.value.Season.value.slice(1))+", "+c(m(F)(Ye(e))),9,ce)),64))],544),[[M,A.value.DayOfMonth.value]])]),r("button",{class:"btn tertiary","aria-label":"Go to next day",onClick:Ke},[v(t,{name:"arrow-outline-right"})])]),r("div",me,[(i(!0),s(u,null,f(A.value,(e,a)=>(i(),s(u,{key:a},["GreenRain"===a&&Qe.value||!["GreenRain","DayOfWeek","DayOfMonth","Season","Job","Rain2","DesertFestival","DesertFestival_1","DesertFestival_2","DesertFestival_3","SquidFest","TroutDerby"].includes(a)?(i(),s("div",fe,[r("button",{id:`${a}`,class:"btn btnText",onClick:a=>e.value=!e.value},[v(t,{name:e.value?"checkbox-active":"checkbox"},null,8,["name"]),o(" "+c("Marriage"===e.label&&"Krobus"===k.value.displayName?"Roommate":e.label),1)],8,pe)])):n("",!0)],64))),128))])])):n("",!0),!O.value&&C.value&&A.value?(i(),s("div",ge,["rain"===C.value.scheduleId&&N.value&&N.value.times.length>0?(i(),s(u,{key:0},[l[13]||(l[13]=r("div",{style:{"margin-bottom":"0.5rem"}},"Rain option 1",-1)),r("div",he,[r("table",null,[l[12]||(l[12]=r("thead",null,[r("tr",null,[r("th",null,"Time"),r("th",null,"Location")])],-1)),r("tbody",null,[(i(!0),s(u,null,f(N.value.times,(e,a)=>(i(),s("tr",{key:a},[r("td",null,c(m(w)(e.time,!0)),1),r("td",null,c(e.location),1)]))),128))])])]),l[14]||(l[14]=r("div",{style:{"margin-bottom":"0.5rem"}},"Rain option 2",-1))],64)):n("",!0),r("div",ye,[r("table",null,[l[16]||(l[16]=r("thead",null,[r("tr",null,[r("th",null,"Time"),r("th",null,"Location")])],-1)),r("tbody",null,[(i(!0),s(u,null,f(C.value.times,(e,a)=>(i(),s("tr",{key:a},[r("td",null,c(m(w)(e.time,!0)),1),r("td",null,c(e.location),1)]))),128)),l[15]||(l[15]=r("tr",null,[r("td",{colspan:"2"},[r("small",null,"* If Beach Resort is open, NPC's have a random chance of visiting the resort. If NPC is not at stated location, check the resort.")])],-1))])])])])):(i(),s("div",be,"Loading schedule..."))])):n("",!0),r("div",ke,[r("div",xe,[v(t,{name:"present",size:"2"}),l[17]||(l[17]=o(" Gifts ",-1))]),l[19]||(l[19]=r("div",{class:"boxContent"},"In addition to universal gifts, the villager has the following preferences.",-1)),r("div",Le,[v(V,{giftList:k.value.giftItems.love,type:"love"},null,8,["giftList"]),v(V,{giftList:k.value.giftItems.like,type:"like"},null,8,["giftList"]),v(V,{giftList:k.value.giftItems.neutral,type:"neutral"},null,8,["giftList"]),v(V,{giftList:k.value.giftItems.dislike,type:"dislike"},null,8,["giftList"]),v(V,{giftList:k.value.giftItems.hate,type:"hate"},null,8,["giftList"]),r("div",Se,[r("button",{class:D(["btn block tertiary",{active:m(a).settings.villager.showUniversalGifts}]),onClick:l[6]||(l[6]=e=>m(a).settings.villager.showUniversalGifts=!m(a).settings.villager.showUniversalGifts)},[v(t,{name:m(a).settings.villager.showUniversalGifts?"checkbox-active":"checkbox"},null,8,["name"]),v(t,{name:"globe",size:"1"}),l[18]||(l[18]=o(" Show applicable Universal Gifts ",-1))],2)])])]),r("div",Ie,[r("div",De,[v(t,{name:"paper"}),l[20]||(l[20]=o(" Personality & Demographics ",-1))]),r("div",_e,[r("div",Me,[r("div",$e,[r("div",Fe,[r("div",we,[l[21]||(l[21]=r("small",null,"Social",-1)),o(" "+c("Shy"===k.value.socialAnxiety?"Introvert":"Outgoing"===k.value.socialAnxiety?"Extrovert":"Ambivert"),1)])]),r("div",Oe,[r("div",Ce,[l[22]||(l[22]=r("small",null,"Optimism",-1)),o(" "+c(k.value.optimism),1)])]),r("div",Ne,[r("div",Ae,[l[23]||(l[23]=r("small",null,"Manner",-1)),o(" "+c(k.value.manner),1)])])]),r("div",Ge,[r("div",Be,[r("div",Je,[l[24]||(l[24]=r("small",null,"Gender",-1)),o(" "+c(k.value.gender),1)])]),r("div",je,[r("div",Re,[l[25]||(l[25]=r("small",null,"Age",-1)),o(" "+c(k.value.age),1)])]),r("div",We,[r("div",ze,[l[26]||(l[26]=r("small",null,"Marriage",-1)),o(" "+c(k.value.canBeRomanced?"Yes":"No"),1)])])])])]),r("div",Te,[v(t,{name:"emoji-heart"}),l[27]||(l[27]=o(" Friends and Family ",-1))]),r("div",He,[k.value.friendsAndFamily&&Object.keys(k.value.friendsAndFamily).length||k.value.loveInterest?(i(),s("div",Ve,[(i(!0),s(u,null,f(k.value.friendsAndFamily,(a,l)=>(i(),s("button",{class:"tag btn",key:l,onClick:a=>e.$router.push(`/npc/villager/${l}`),style:{"padding-inline-end":"1.2rem"}},[v(t,{name:`npc-${l.toLowerCase()}`},null,8,["name"]),r("div",Ee,[r("small",null,c(a),1),o(" "+c(l),1)])],8,Ue))),128)),k.value.loveInterest&&!Object.keys(k.value.friendsAndFamily).some(e=>k.value&&k.value.loveInterest===e)?(i(),s("button",{key:0,class:"tag btn",onClick:l[7]||(l[7]=a=>e.$router.push(`/npc/villager/${k.value.loveInterest}`)),style:{"padding-inline-end":"1.2rem"}},[v(t,{name:`npc-${k.value.loveInterest.toLowerCase()}`},null,8,["name"]),r("div",qe,c(k.value.loveInterest),1)])):n("",!0)])):(i(),s("div",Pe,[...l[28]||(l[28]=[r("div",{class:"tag"},"N/A",-1)])]))])]),v(p,{name:k.value.displayName},null,8,["name"])])):n("",!0),v(x,{type:"villager"}),v(L)])}}});e("default",k(Ke,[["__scopeId","data-v-28f2d914"]]))}}});
