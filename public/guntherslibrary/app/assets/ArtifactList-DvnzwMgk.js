import{d as $,u as I,r as z,K as O,o as V,c as d,a,e as n,i as v,f as i,p as y,F as h,g as F,k,h as w,b as l,n as p,L as Z,q as D,s as P,M as T,t as C,j as _}from"./index-crzrhOP4.js";import{u as U,F as S,L as j}from"./useFilter-C3R9tX5A.js";import{L as E}from"./ListCollectionStats-Brj8FXP0.js";import{a as M}from"./objects-VhMafjU8.js";const q={key:0,class:"mainList list"},H=["onClick"],K={class:"header"},R={class:"spriteContainer"},Y=["aria-label"],G={class:"title"},J={key:0,class:"tag tagBlock"},Q={class:"miniLabel"},W={key:1,class:"tag tagBlock"},X={class:"miniLabel"},tt={class:"field"},et={class:"filterBtns2"},lt={class:"field"},st={class:"filterBtns2"},ot={class:"field"},rt={class:"filterBtns3"},it=["onClick"],nt={class:"miniLabel"},pt=$({__name:"ArtifactList",setup(at){const u=I(),g=z(u.artifact),e=O(u.settings.artifact),x=[{default:!0,value:"collection",label:"Collection order (first to last)",sort:(o,t)=>parseInt(o.id.toString())-parseInt(t.id.toString())},{value:"collectionDesc",label:"Collection order (last to first)",sort:(o,t)=>parseInt(t.id.toString())-parseInt(o.id.toString())},{value:"name",label:"A-Z",sort:(o,t)=>o.name.toLowerCase()<t.name.toLowerCase()?-1:o.name.toLowerCase()>t.name.toLowerCase()?1:0},{value:"nameDesc",label:"Z-A",sort:(o,t)=>o.name.toLowerCase()>t.name.toLowerCase()?-1:o.name.toLowerCase()<t.name.toLowerCase()?1:0},{value:"price",label:"Base Price (low to high)",sort:(o,t)=>o.price-t.price},{value:"priceDesc",label:"Base Price (high to low)",sort:(o,t)=>t.price-o.price},{value:"color",label:"Color (A-Z)",sort:(o,t)=>{const r=o.color?o.color.toLowerCase():"",c=t.color?t.color.toLowerCase():"";return r===""&&c!==""?1:r!==""&&c===""||r<c?-1:r>c?1:0}},{value:"colorDesc",label:"Color (Z-A)",sort:(o,t)=>{const r=o.color?o.color.toLowerCase():"",c=t.color?t.color.toLowerCase():"";return r===""&&c!==""?1:r!==""&&c===""||r>c?-1:r<c?1:0}}],A=[{value:"color",filter:(o,t)=>t.color===o},{value:"donated",default:"all",filter:(o,t)=>M(t,"donated",u.farms[u.farm].collections.artifact,o)}],{filteredAndSorted:m,clearFilters:b,isFiltered:L,isSorted:B}=U({type:"artifact",items:g.value,sortOptions:x,filterOptions:A});return V(()=>{u.header={hideIcon:!1,hideUp:!0,iconName:"artifacts",iconSize:"2",label:"Artifacts",bookmark:{appType:"page",id:"artifacts",name:"Artifacts",link:"/collections/artifact",icon:"artifacts",scale:3}}}),(o,t)=>{const r=k("icon"),c=k("app-footer-message"),N=k("app-fab");return a(),d("main",null,[n(E,{type:"artifact"}),i(u).isLoading?v("",!0):(a(),d("div",q,[i(m).length>0?(a(),d(h,{key:0},[i(L)?(a(),y(S,{key:0,"list-length":g.value.length,"filtered-list-length":i(m).length,onClearFilters:i(b)},null,8,["list-length","filtered-list-length","onClearFilters"])):v("",!0),(a(!0),d(h,null,F(i(m),s=>(a(),d("button",{key:s.id.toString(),onClick:f=>i(u).navigateTo("/collections/artifact/".concat(s.id)),class:"object"},[l("div",K,[l("div",R,[l("div",{class:"sprite",style:D(i(P)({texture:s.texture,index:s.sprite,scale:3})),"aria-label":s.displayName?s.displayName:s.name},null,12,Y)]),n(T,{compact:"",type:"artifact",item:s,class:"status"},null,8,["item"])]),t[8]||(t[8]=l("div",{class:"boxLightHr"},null,-1)),l("h2",G,C(s.displayName?s.displayName:s.name),1),e.filters.sort&&["color","colorDesc"].includes(e.filters.sort)?(a(),d("div",J,[s.color?(a(),d("div",{key:0,class:"appIcon",style:D("width: 2.4rem; height: 2.4rem; background-color: ".concat(s.color,";"))},null,4)):v("",!0),l("div",Q,[t[6]||(t[6]=l("small",null,"Dye color",-1)),_(" "+C(s.color?s.color.charAt(0).toUpperCase()+s.color.slice(1):"N/A"),1)])])):v("",!0),e.filters.sort&&["price","priceDesc"].includes(e.filters.sort)?(a(),d("div",W,[n(r,{name:"gold-coin"}),l("div",X,[t[7]||(t[7]=l("small",null,"Sell price",-1)),_(" "+C(s.price?s.price+"g":"N/A"),1)])])):v("",!0)],8,H))),128)),i(L)?(a(),y(S,{key:1,"list-length":g.value.length,"filtered-list-length":i(m).length,onClearFilters:i(b)},null,8,["list-length","filtered-list-length","onClearFilters"])):v("",!0)],64)):(a(),y(S,{key:1,empty:"","list-length":g.value.length,"filtered-list-length":i(m).length,onClearFilters:i(b)},null,8,["list-length","filtered-list-length","onClearFilters"]))])),n(c,{type:"artifact"}),n(N,null,{default:w(()=>[n(j,{"filtered-items":i(m),"is-filtered":i(L),"is-sorted":i(B),"list-length":g.value.length,"filtered-list-length":i(m).length,onClearFilters:i(b)},{default:w(()=>[t[17]||(t[17]=l("h3",null,"Sorting",-1)),l("div",tt,[l("div",et,[l("button",{onClick:t[0]||(t[0]=s=>e.filters.sort==="collection"?e.filters.sort="collectionDesc":e.filters.sort="collection"),class:p([{active:e.filters.sort&&["collection","collectionDesc"].includes(e.filters.sort)},"btn tertiary left"])},[n(r,{name:e.filters.sort==="collection"?"sort-asc":e.filters.sort==="collectionDesc"?"sort-desc":"sort"},null,8,["name"]),t[9]||(t[9]=l("div",{class:"miniLabel"},"Collection",-1))],2),l("button",{onClick:t[1]||(t[1]=s=>e.filters.sort==="name"?e.filters.sort="nameDesc":e.filters.sort="name"),class:p([{active:e.filters.sort&&["name","nameDesc"].includes(e.filters.sort)},"btn tertiary left"])},[n(r,{name:e.filters.sort==="name"?"sort-asc":e.filters.sort==="nameDesc"?"sort-desc":"sort"},null,8,["name"]),t[10]||(t[10]=l("div",{class:"miniLabel"},"Name",-1))],2),l("button",{onClick:t[2]||(t[2]=s=>e.filters.sort==="price"?e.filters.sort="priceDesc":e.filters.sort="price"),class:p([{active:e.filters.sort&&["price","priceDesc"].includes(e.filters.sort)},"btn tertiary left"])},[n(r,{name:e.filters.sort==="price"?"sort-asc":e.filters.sort==="priceDesc"?"sort-desc":"sort"},null,8,["name"]),t[11]||(t[11]=l("div",{class:"miniLabel"},"Price",-1))],2),l("button",{onClick:t[3]||(t[3]=s=>e.filters.sort==="color"?e.filters.sort="colorDesc":e.filters.sort="color"),class:p([{active:e.filters.sort&&["color","colorDesc"].includes(e.filters.sort)},"btn tertiary left"])},[n(r,{name:e.filters.sort==="color"?"sort-asc":e.filters.sort==="colorDesc"?"sort-desc":"sort"},null,8,["name"]),t[12]||(t[12]=l("div",{class:"miniLabel"},"Dye Color",-1))],2)])]),t[18]||(t[18]=l("hr",null,null,-1)),t[19]||(t[19]=l("h3",null,"Filtering",-1)),l("div",lt,[t[15]||(t[15]=l("div",{class:"label"},"Donated artifacts",-1)),l("div",st,[l("button",{onClick:t[4]||(t[4]=s=>e.filters.donated==="yes"?e.filters.donated="all":e.filters.donated="yes"),class:p([{active:e.filters.donated==="yes"},"btn tertiary left"])},[n(r,{name:e.filters.donated==="yes"?"checkbox-active":"checkbox"},null,8,["name"]),n(r,{name:"donated"}),t[13]||(t[13]=l("div",{class:"miniLabel"},"Donated",-1))],2),l("button",{onClick:t[5]||(t[5]=s=>e.filters.donated==="no"?e.filters.donated="all":e.filters.donated="no"),class:p([{active:e.filters.donated==="no"},"btn tertiary left"])},[n(r,{name:e.filters.donated==="no"?"checkbox-active":"checkbox"},null,8,["name"]),n(r,{name:"x",size:"1"}),t[14]||(t[14]=l("div",{class:"miniLabel"},"Not donated",-1))],2)])]),l("div",ot,[t[16]||(t[16]=l("div",{class:"label"},"Dye color",-1)),l("div",rt,[(a(!0),d(h,null,F(i(Z),(s,f)=>(a(),d("button",{key:f,onClick:ct=>e.filters.color===f.toString()?e.filters.color="":e.filters.color=f.toString(),class:p([{active:e.filters.color===f.toString()},"btn tertiary left"])},[n(r,{name:e.filters.color===f.toString()?"checkbox-active":"checkbox"},null,8,["name"]),l("div",nt,[l("small",null,C(f.toString().charAt(0).toUpperCase()+f.toString().slice(1)),1),l("div",{class:"filterColorLabel",style:D("background-color: ".concat(f,";"))},null,4)])],10,it))),128))])])]),_:1},8,["filtered-items","is-filtered","is-sorted","list-length","filtered-list-length","onClearFilters"])]),_:1})])}}});export{pt as default};
