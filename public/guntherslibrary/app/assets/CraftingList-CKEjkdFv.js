import{d as z,u as I,r as O,K as V,o as Z,c as f,a,e as n,i as p,f as i,p as C,F as k,g as x,k as h,h as F,b as l,n as m,L as P,q as D,s as R,M as T,t as y,j as w}from"./index-crzrhOP4.js";import{u as U,F as S,L as j}from"./useFilter-C3R9tX5A.js";import{L as E}from"./ListCollectionStats-Brj8FXP0.js";import{a as B}from"./objects-VhMafjU8.js";const M={key:0,class:"mainList list"},q=["onClick"],H={class:"header"},K={class:"spriteContainer"},Y=["aria-label"],G={class:"title"},J={key:0,class:"tag tagBlock"},Q={class:"miniLabel"},W={key:1,class:"tag tagBlock"},X={class:"miniLabel"},ee={class:"field"},te={class:"filterBtns2"},le={class:"field"},se={class:"filterBtns2"},re={class:"field"},oe={class:"filterBtns2"},ie={class:"field"},ne={class:"filterBtns3"},ae=["onClick"],ce={class:"miniLabel"},ve=z({__name:"CraftingList",setup(fe){const d=I(),v=O(d.crafting),t=V(d.settings.crafting),N=[{default:!0,value:"collection",label:"Collection order (first to last)",sort:(r,e)=>0},{value:"collectionDesc",label:"Collection order (last to first)",sort:(r,e)=>parseInt(e.id.toString())-parseInt(r.id.toString())},{value:"name",label:"A-Z",sort:(r,e)=>r.name.toLowerCase()<e.name.toLowerCase()?-1:r.name.toLowerCase()>e.name.toLowerCase()?1:0},{value:"nameDesc",label:"Z-A",sort:(r,e)=>r.name.toLowerCase()>e.name.toLowerCase()?-1:r.name.toLowerCase()<e.name.toLowerCase()?1:0},{value:"price",label:"Base Price (low to high)",sort:(r,e)=>r.price-e.price},{value:"priceDesc",label:"Base Price (high to low)",sort:(r,e)=>e.price-r.price},{value:"color",label:"Color (A-Z)",sort:(r,e)=>{const o=r.color?r.color.toLowerCase():"",c=e.color?e.color.toLowerCase():"";return o===""&&c!==""?1:o!==""&&c===""||o<c?-1:o>c?1:0}},{value:"colorDesc",label:"Color (Z-A)",sort:(r,e)=>{const o=r.color?r.color.toLowerCase():"",c=e.color?e.color.toLowerCase():"";return o===""&&c!==""?1:o!==""&&c===""||o>c?-1:o<c?1:0}}],$=[{value:"color",filter:(r,e)=>e.color===r},{value:"collected",default:"all",filter:(r,e)=>B(e,"collected",d.farms[d.farm].collections.crafting,r)},{value:"crafted",default:"all",filter:(r,e)=>B(e,"crafted",d.farms[d.farm].collections.crafting,r)}],{filteredAndSorted:g,clearFilters:b,isFiltered:L,isSorted:A}=U({type:"crafting",items:v.value,sortOptions:N,filterOptions:$});return Z(()=>{d.header={hideIcon:!1,hideUp:!0,iconName:"crafting",iconSize:"2",label:"Crafting Recipes",bookmark:{appType:"page",id:"crafting",name:"Crafting Recipes",link:"/collections/crafting",icon:"crafting",scale:3}}}),(r,e)=>{const o=h("icon"),c=h("app-footer-message"),_=h("app-fab");return a(),f("main",null,[n(E,{type:"crafting"}),i(d).isLoading?p("",!0):(a(),f("div",M,[i(g).length>0?(a(),f(k,{key:0},[i(L)?(a(),C(S,{key:0,"list-length":v.value.length,"filtered-list-length":i(g).length,onClearFilters:i(b)},null,8,["list-length","filtered-list-length","onClearFilters"])):p("",!0),(a(!0),f(k,null,x(i(g),s=>(a(),f("button",{key:s.id.toString(),onClick:u=>i(d).navigateTo("/collections/crafting/".concat(s.id)),class:"object"},[l("div",H,[l("div",K,[l("div",{class:"sprite",style:D(i(R)({texture:s.texture,index:s.sprite,scale:s.bigCraftable?2:3})),"aria-label":s.displayName?s.displayName:s.name},null,12,Y)]),s.id!==801?(a(),C(T,{key:0,compact:"",type:"crafting",item:s,class:"status"},null,8,["item"])):p("",!0)]),e[10]||(e[10]=l("div",{class:"boxLightHr"},null,-1)),l("h2",G,y(s.displayName?s.displayName:s.name),1),t.filters.sort&&["color","colorDesc"].includes(t.filters.sort)?(a(),f("div",J,[s.color?(a(),f("div",{key:0,class:"appIcon",style:D("width: 2.4rem; height: 2.4rem; background-color: ".concat(s.color,";"))},null,4)):p("",!0),l("div",Q,[e[8]||(e[8]=l("small",null,"Dye color",-1)),w(" "+y(s.color?s.color.charAt(0).toUpperCase()+s.color.slice(1):"N/A"),1)])])):p("",!0),t.filters.sort&&["price","priceDesc"].includes(t.filters.sort)?(a(),f("div",W,[n(o,{name:"gold-coin"}),l("div",X,[e[9]||(e[9]=l("small",null,"Sell price",-1)),w(" "+y(s.price?s.price+"g":"N/A"),1)])])):p("",!0)],8,q))),128)),i(L)?(a(),C(S,{key:1,"list-length":v.value.length,"filtered-list-length":i(g).length,onClearFilters:i(b)},null,8,["list-length","filtered-list-length","onClearFilters"])):p("",!0)],64)):(a(),C(S,{key:1,empty:"","list-length":v.value.length,"filtered-list-length":i(g).length,onClearFilters:i(b)},null,8,["list-length","filtered-list-length","onClearFilters"]))])),n(c,{type:"crafting"}),n(_,null,{default:F(()=>[n(j,{"filtered-items":i(g),"is-filtered":i(L),"is-sorted":i(A),"list-length":v.value.length,"filtered-list-length":i(g).length,onClearFilters:i(b)},{default:F(()=>[e[22]||(e[22]=l("h3",null,"Sorting",-1)),l("div",ee,[l("div",te,[l("button",{onClick:e[0]||(e[0]=s=>t.filters.sort==="collection"?t.filters.sort="collectionDesc":t.filters.sort="collection"),class:m([{active:t.filters.sort&&["collection","collectionDesc"].includes(t.filters.sort)},"btn tertiary left"])},[n(o,{name:t.filters.sort==="collection"?"sort-asc":t.filters.sort==="collectionDesc"?"sort-desc":"sort"},null,8,["name"]),e[11]||(e[11]=l("div",{class:"miniLabel"},"Collection",-1))],2),l("button",{onClick:e[1]||(e[1]=s=>t.filters.sort==="name"?t.filters.sort="nameDesc":t.filters.sort="name"),class:m([{active:t.filters.sort&&["name","nameDesc"].includes(t.filters.sort)},"btn tertiary left"])},[n(o,{name:t.filters.sort==="name"?"sort-asc":t.filters.sort==="nameDesc"?"sort-desc":"sort"},null,8,["name"]),e[12]||(e[12]=l("div",{class:"miniLabel"},"Name",-1))],2),l("button",{onClick:e[2]||(e[2]=s=>t.filters.sort==="price"?t.filters.sort="priceDesc":t.filters.sort="price"),class:m([{active:t.filters.sort&&["price","priceDesc"].includes(t.filters.sort)},"btn tertiary left"])},[n(o,{name:t.filters.sort==="price"?"sort-asc":t.filters.sort==="priceDesc"?"sort-desc":"sort"},null,8,["name"]),e[13]||(e[13]=l("div",{class:"miniLabel"},"Price",-1))],2),l("button",{onClick:e[3]||(e[3]=s=>t.filters.sort==="color"?t.filters.sort="colorDesc":t.filters.sort="color"),class:m([{active:t.filters.sort&&["color","colorDesc"].includes(t.filters.sort)},"btn tertiary left"])},[n(o,{name:t.filters.sort==="color"?"sort-asc":t.filters.sort==="colorDesc"?"sort-desc":"sort"},null,8,["name"]),e[14]||(e[14]=l("div",{class:"miniLabel"},"Dye Color",-1))],2)])]),e[23]||(e[23]=l("hr",null,null,-1)),e[24]||(e[24]=l("h3",null,"Filtering",-1)),l("div",le,[e[17]||(e[17]=l("div",{class:"label"},"Learned recipes",-1)),l("div",se,[l("button",{onClick:e[4]||(e[4]=s=>t.filters.collected==="yes"?t.filters.collected="all":t.filters.collected="yes"),class:m([{active:t.filters.collected==="yes"},"btn tertiary left"])},[n(o,{name:t.filters.collected==="yes"?"checkbox-active":"checkbox"},null,8,["name"]),n(o,{name:"lightbulb"}),e[15]||(e[15]=l("div",{class:"miniLabel"},"Learned",-1))],2),l("button",{onClick:e[5]||(e[5]=s=>t.filters.collected==="no"?t.filters.collected="all":t.filters.collected="no"),class:m([{active:t.filters.collected==="no"},"btn tertiary left"])},[n(o,{name:t.filters.collected==="no"?"checkbox-active":"checkbox"},null,8,["name"]),n(o,{name:"x",size:"1"}),e[16]||(e[16]=l("div",{class:"miniLabel"},"Not learned",-1))],2)])]),l("div",re,[e[20]||(e[20]=l("div",{class:"label"},"Crafted recipes",-1)),l("div",oe,[l("button",{onClick:e[6]||(e[6]=s=>t.filters.crafted==="yes"?t.filters.crafted="all":t.filters.crafted="yes"),class:m([{active:t.filters.crafted==="yes"},"btn tertiary left"])},[n(o,{name:t.filters.crafted==="yes"?"checkbox-active":"checkbox"},null,8,["name"]),n(o,{name:"crafted"}),e[18]||(e[18]=l("div",{class:"miniLabel"},"Crafted",-1))],2),l("button",{onClick:e[7]||(e[7]=s=>t.filters.crafted==="no"?t.filters.crafted="all":t.filters.crafted="no"),class:m([{active:t.filters.crafted==="no"},"btn tertiary left"])},[n(o,{name:t.filters.crafted==="no"?"checkbox-active":"checkbox"},null,8,["name"]),n(o,{name:"x",size:"1"}),e[19]||(e[19]=l("div",{class:"miniLabel"},"Not crafted",-1))],2)])]),l("div",ie,[e[21]||(e[21]=l("div",{class:"label"},"Dye color",-1)),l("div",ne,[(a(!0),f(k,null,x(i(P),(s,u)=>(a(),f("button",{key:u,onClick:de=>t.filters.color===u.toString()?t.filters.color="":t.filters.color=u.toString(),class:m([{active:t.filters.color===u.toString()},"btn tertiary left"])},[n(o,{name:t.filters.color===u.toString()?"checkbox-active":"checkbox"},null,8,["name"]),l("div",ce,[l("small",null,y(u.toString().charAt(0).toUpperCase()+u.toString().slice(1)),1),l("div",{class:"filterColorLabel",style:D("background-color: ".concat(u,";"))},null,4)])],10,ae))),128))])])]),_:1},8,["filtered-items","is-filtered","is-sorted","list-length","filtered-list-length","onClearFilters"])]),_:1})])}}});export{ve as default};
