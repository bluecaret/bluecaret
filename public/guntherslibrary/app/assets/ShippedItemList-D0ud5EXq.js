import{d as E,u as O,r as T,K as V,o as Z,c as p,a as f,e as o,i as m,f as c,p as C,F as L,g as q,k as F,h as P,b as l,n as a,j as y,L as U,q as S,s as j,M as G,t as x,_ as R}from"./index-crzrhOP4.js";import{u as H,F as D,L as K}from"./useFilter-C3R9tX5A.js";import{L as Y}from"./ListCollectionStats-Brj8FXP0.js";import{a as I}from"./objects-VhMafjU8.js";const J={key:0,class:"mainList list"},Q=["onClick"],W={class:"header"},X={class:"spriteContainer"},_=["aria-label"],ee={class:"title"},se={key:0,class:"cropSeasons tag tagBlock"},le={key:1,class:"tag tagBlock"},te={class:"miniLabel"},re={key:2,class:"tag tagBlock"},ie={class:"miniLabel"},oe={class:"field"},ne={class:"filterBtns2"},ae={class:"field"},ce={class:"filterBtns2"},fe={class:"field"},de={class:"filterBtns2"},ue={class:"field"},pe={class:"filterBtns2"},me={class:"field"},ve={class:"filterBtns4 filterBtnsCompactOnTinyScreen"},be={class:"filterBtns",style:{"margin-block-start":"-0.4rem"}},ye={class:"field"},ge={class:"filterBtns2"},Ce={class:"filterBtns2"},ke={class:"field"},xe={class:"filterBtns3"},he=["onClick"],we={class:"miniLabel"},Le=E({__name:"ShippedItemList",setup(Fe){const d=O(),g=T(d.shippedItem),s=V(d.settings.shippedItem),N=[{default:!0,value:"collection",label:"Collection order (first to last)",sort:(t,e)=>parseInt(t.id.toString())-parseInt(e.id.toString())},{value:"collectionDesc",label:"Collection order (last to first)",sort:(t,e)=>parseInt(e.id.toString())-parseInt(t.id.toString())},{value:"name",label:"A-Z",sort:(t,e)=>t.name.toLowerCase()<e.name.toLowerCase()?-1:t.name.toLowerCase()>e.name.toLowerCase()?1:0},{value:"nameDesc",label:"Z-A",sort:(t,e)=>t.name.toLowerCase()>e.name.toLowerCase()?-1:t.name.toLowerCase()<e.name.toLowerCase()?1:0},{value:"price",label:"Base Price (low to high)",sort:(t,e)=>t.priceCalculated&&t.priceCalculated.base&&t.priceCalculated.base.description?1:e.priceCalculated&&e.priceCalculated.base&&e.priceCalculated.base.description?-1:t.price-e.price},{value:"priceDesc",label:"Base Price (high to low)",sort:(t,e)=>t.priceCalculated&&t.priceCalculated.base&&t.priceCalculated.base.description?1:e.priceCalculated&&e.priceCalculated.base&&e.priceCalculated.base.description?-1:e.price-t.price},{value:"color",label:"Color (A-Z)",sort:(t,e)=>{const r=t.color?t.color.toLowerCase():"",n=e.color?e.color.toLowerCase():"";return r===""&&n!==""?1:r!==""&&n===""||r<n?-1:r>n?1:0}},{value:"colorDesc",label:"Color (Z-A)",sort:(t,e)=>{const r=t.color?t.color.toLowerCase():"",n=e.color?e.color.toLowerCase():"";return r===""&&n!==""?1:r!==""&&n===""||r>n?-1:r<n?1:0}},{value:"season",label:"Season (early to late)",sort:(t,e)=>{if(!t.seed)return 1;if(!e.seed)return-1;const r=n=>n.includes("spring")&&n.includes("summer")&&n.includes("fall")&&n.includes("winter")?0:n.includes("spring")?1:n.includes("summer")?2:n.includes("fall")?3:n.includes("winter")?4:5;if(t.seed.season&&e.seed.season){const n=r(t.seed.season),b=r(e.seed.season);if(n<b)return-1;if(n>b)return 1;if(t.seed.season[0]<e.seed.season[0])return-1;if(t.seed.season[0]>e.seed.season[0])return 1;if(t.seed.season[1]<e.seed.season[1])return-1;if(t.seed.season[1]>e.seed.season[1])return 1}return 0}},{value:"seasonDesc",label:"Season (late to early)",sort:(t,e)=>{if(!t.seed)return 1;if(!e.seed)return-1;const r=n=>n.includes("spring")&&n.includes("summer")&&n.includes("fall")&&n.includes("winter")?0:n.includes("spring")?1:n.includes("summer")?2:n.includes("fall")?3:n.includes("winter")?4:5;if(t.seed.season&&e.seed.season){const n=r(t.seed.season),b=r(e.seed.season);if(n>b)return-1;if(n<b)return 1;if(t.seed.season[0]>e.seed.season[0])return-1;if(t.seed.season[0]<e.seed.season[0])return 1;if(t.seed.season[1]>e.seed.season[1])return-1;if(t.seed.season[1]<e.seed.season[1])return 1}return 0}}],z=[{value:"color",filter:(t,e)=>e.color===t},{value:"shipped",default:"all",filter:(t,e)=>I(e,"shipped",d.farms[d.farm].collections.shippedItem,t,"excludeFromShippingCollection")},{value:"poly",default:"all",filter:(t,e)=>I(e,"poly",d.farms[d.farm].collections.shippedItem,t)},{value:"mono",default:"all",filter:(t,e)=>I(e,"mono",d.farms[d.farm].collections.shippedItem,t)},{value:"qualifiesForPoly",default:"all",filter:(t,e)=>t==="all"?!0:t==="yes"?e.seed&&e.seed.countForPolyculture||!1:e.seed&&!e.seed.countForPolyculture||!1},{value:"qualifiesForMono",default:"all",filter:(t,e)=>t==="all"?!0:t==="yes"?e.seed&&e.seed.countForMonoculture||!1:e.seed&&!e.seed.countForMonoculture||!1},{value:"season",default:"all",filter:(t,e)=>{var r;return t==="all"?!0:e.seed&&((r=e.seed.season)==null?void 0:r.includes(t))||!1}},{value:"seasonExclusive",default:"no",filter:(t,e)=>s.filters.season==="all"||s.filters.season===""?!0:t==="yes"?e.seed&&e.seed.season&&e.seed.season.length===1&&e.seed.season[0]===s.filters.season||!1:!0},{value:"crop",default:"all",filter:(t,e)=>t==="all"?!0:t==="yes"?!!e.seed:!e.seed},{value:"regrows",default:"all",filter:(t,e)=>{var r;return t==="all"?!0:t==="yes"?!!(e.seed&&e.seed.regrowDays&&e.seed.regrowDays>0):!!(e.seed&&(!e.seed.regrowDays||((r=e.seed)==null?void 0:r.regrowDays)<=0))}}],M=t=>t.priceCalculated&&t.priceCalculated.base&&t.priceCalculated.base.base?t.priceCalculated.base.base+"g":t.priceCalculated&&t.priceCalculated.base&&t.priceCalculated.base.description?t.priceCalculated.base.description:t.price?t.price+"g":"N/A",{filteredAndSorted:v,clearFilters:k,isFiltered:h,isSorted:A}=H({type:"shippedItem",items:g.value,sortOptions:N,filterOptions:z});return Z(()=>{d.header={hideIcon:!1,hideUp:!0,iconName:"shipped-items",iconSize:"2",label:"Shipped Items",bookmark:{appType:"page",id:"shippedItem",name:"Shipped Items",link:"/collections/shippedItem",icon:"shipped-items",scale:3}}}),(t,e)=>{const r=F("icon"),n=F("app-footer-message"),b=F("app-fab");return f(),p("main",null,[o(Y,{type:"shippedItem"}),c(d).isLoading?m("",!0):(f(),p("div",J,[c(v).length>0?(f(),p(L,{key:0},[c(h)?(f(),C(D,{key:0,"list-length":g.value.length,"filtered-list-length":c(v).length,onClearFilters:c(k)},null,8,["list-length","filtered-list-length","onClearFilters"])):m("",!0),(f(!0),p(L,null,q(c(v),i=>{var u,w,$,B;return f(),p("button",{key:i.id.toString(),onClick:Se=>c(d).navigateTo("/collections/shippedItem/".concat(i.id)),class:"object"},[l("div",W,[l("div",X,[l("div",{class:"sprite",style:S(c(j)({texture:i.texture,index:i.sprite,scale:3})),"aria-label":i.displayName?i.displayName:i.name},null,12,_)]),i.excludeFromShippingCollection?m("",!0):(f(),C(G,{key:0,compact:"",type:"shippedItem",item:i,class:"status"},null,8,["item"]))]),e[26]||(e[26]=l("div",{class:"boxLightHr"},null,-1)),l("h2",ee,x(i.displayName?i.displayName:i.name),1),i.seed&&i.seed.season&&s.filters.sort&&["season","seasonDesc"].includes(s.filters.sort)?(f(),p("div",se,[l("div",{class:a(["cropSeasonIcon",{active:(u=i.seed.season)==null?void 0:u.includes("spring")}])},[o(r,{name:"season-spring",size:"2"})],2),l("div",{class:a(["cropSeasonIcon",{active:(w=i.seed.season)==null?void 0:w.includes("summer")}])},[o(r,{name:"season-summer",size:"2"})],2),l("div",{class:a(["cropSeasonIcon",{active:($=i.seed.season)==null?void 0:$.includes("fall")}])},[o(r,{name:"season-fall",size:"2"})],2),l("div",{class:a(["cropSeasonIcon",{active:(B=i.seed.season)==null?void 0:B.includes("winter")}])},[o(r,{name:"season-winter",size:"2"})],2)])):m("",!0),s.filters.sort&&["color","colorDesc"].includes(s.filters.sort)?(f(),p("div",le,[i.color?(f(),p("div",{key:0,class:"appIcon",style:S("width: 2.4rem; height: 2.4rem; background-color: ".concat(i.color,";"))},null,4)):m("",!0),l("div",te,[e[24]||(e[24]=l("small",null,"Dye color",-1)),y(" "+x(i.color?i.color.charAt(0).toUpperCase()+i.color.slice(1):"N/A"),1)])])):m("",!0),s.filters.sort&&["price","priceDesc"].includes(s.filters.sort)?(f(),p("div",re,[!i.priceCalculated||!i.priceCalculated.base||!i.priceCalculated.base.description?(f(),C(r,{key:0,name:"gold-coin"})):m("",!0),l("div",ie,[e[25]||(e[25]=l("small",null,"Sell price",-1)),l("span",{class:a({priceDescription:i.priceCalculated&&i.priceCalculated.base&&i.priceCalculated.base.description})},x(M(i)),3)])])):m("",!0)],8,Q)}),128)),c(h)?(f(),C(D,{key:1,"list-length":g.value.length,"filtered-list-length":c(v).length,onClearFilters:c(k)},null,8,["list-length","filtered-list-length","onClearFilters"])):m("",!0)],64)):(f(),C(D,{key:1,empty:"","list-length":g.value.length,"filtered-list-length":c(v).length,onClearFilters:c(k)},null,8,["list-length","filtered-list-length","onClearFilters"]))])),o(n,{type:"shippedItem"}),o(b,null,{default:P(()=>[o(K,{"filtered-items":c(v),"is-filtered":c(h),"is-sorted":c(A),"list-length":g.value.length,"filtered-list-length":c(v).length,onClearFilters:c(k)},{default:P(()=>[e[53]||(e[53]=l("h3",null,"Sorting",-1)),l("div",oe,[l("div",ne,[l("button",{onClick:e[0]||(e[0]=i=>s.filters.sort==="collection"?s.filters.sort="collectionDesc":s.filters.sort="collection"),class:a([{active:s.filters.sort&&["collection","collectionDesc"].includes(s.filters.sort)},"btn tertiary left"])},[o(r,{name:s.filters.sort==="collection"?"sort-asc":s.filters.sort==="collectionDesc"?"sort-desc":"sort"},null,8,["name"]),e[27]||(e[27]=l("div",{class:"miniLabel"},"Collection",-1))],2),l("button",{onClick:e[1]||(e[1]=i=>s.filters.sort==="name"?s.filters.sort="nameDesc":s.filters.sort="name"),class:a([{active:s.filters.sort&&["name","nameDesc"].includes(s.filters.sort)},"btn tertiary left"])},[o(r,{name:s.filters.sort==="name"?"sort-asc":s.filters.sort==="nameDesc"?"sort-desc":"sort"},null,8,["name"]),e[28]||(e[28]=l("div",{class:"miniLabel"},"Name",-1))],2),l("button",{onClick:e[2]||(e[2]=i=>s.filters.sort==="price"?s.filters.sort="priceDesc":s.filters.sort="price"),class:a([{active:s.filters.sort&&["price","priceDesc"].includes(s.filters.sort)},"btn tertiary left"])},[o(r,{name:s.filters.sort==="price"?"sort-asc":s.filters.sort==="priceDesc"?"sort-desc":"sort"},null,8,["name"]),e[29]||(e[29]=l("div",{class:"miniLabel"},"Price",-1))],2),l("button",{onClick:e[3]||(e[3]=i=>s.filters.sort==="color"?s.filters.sort="colorDesc":s.filters.sort="color"),class:a([{active:s.filters.sort&&["color","colorDesc"].includes(s.filters.sort)},"btn tertiary left"])},[o(r,{name:s.filters.sort==="color"?"sort-asc":s.filters.sort==="colorDesc"?"sort-desc":"sort"},null,8,["name"]),e[30]||(e[30]=l("div",{class:"miniLabel"},"Dye Color",-1))],2),l("button",{onClick:e[4]||(e[4]=i=>s.filters.sort==="season"?s.filters.sort="seasonDesc":s.filters.sort="season"),class:a([{active:s.filters.sort&&["season","seasonDesc"].includes(s.filters.sort)},"btn tertiary left"])},[o(r,{name:s.filters.sort==="season"?"sort-asc":s.filters.sort==="seasonDesc"?"sort-desc":"sort"},null,8,["name"]),e[31]||(e[31]=l("div",{class:"miniLabel"},"Grow Season",-1))],2)])]),e[54]||(e[54]=l("hr",null,null,-1)),e[55]||(e[55]=l("h3",null,"Filtering",-1)),l("div",ae,[e[34]||(e[34]=l("div",{class:"label"},"Shipped items",-1)),l("div",ce,[l("button",{onClick:e[5]||(e[5]=i=>s.filters.shipped==="yes"?s.filters.shipped="all":s.filters.shipped="yes"),class:a([{active:s.filters.shipped==="yes"},"btn tertiary left"])},[o(r,{name:s.filters.shipped==="yes"?"checkbox-active":"checkbox"},null,8,["name"]),o(r,{name:"shipped"}),e[32]||(e[32]=l("div",{class:"miniLabel"},"Shipped",-1))],2),l("button",{onClick:e[6]||(e[6]=i=>s.filters.shipped==="no"?s.filters.shipped="all":s.filters.shipped="no"),class:a([{active:s.filters.shipped==="no"},"btn tertiary left"])},[o(r,{name:s.filters.shipped==="no"?"checkbox-active":"checkbox"},null,8,["name"]),o(r,{name:"x",size:"1"}),e[33]||(e[33]=l("div",{class:"miniLabel"},"Not shipped",-1))],2)])]),l("div",fe,[e[39]||(e[39]=l("div",{class:"label"},"Polyculture - Shipped 15 of crop",-1)),l("div",de,[l("button",{onClick:e[7]||(e[7]=i=>s.filters.poly==="yes"?s.filters.poly="all":s.filters.poly="yes"),class:a([{active:s.filters.poly==="yes"},"btn tertiary left"])},[o(r,{name:s.filters.poly==="yes"?"checkbox-active":"checkbox"},null,8,["name"]),o(r,{name:"shipped15"}),e[35]||(e[35]=l("div",{class:"miniLabel"},"Shipped 15",-1))],2),l("button",{onClick:e[8]||(e[8]=i=>s.filters.poly==="no"?s.filters.poly="all":s.filters.poly="no"),class:a([{active:s.filters.poly==="no"},"btn tertiary left"])},[o(r,{name:s.filters.poly==="no"?"checkbox-active":"checkbox"},null,8,["name"]),o(r,{name:"x",size:"1"}),e[36]||(e[36]=l("div",{class:"miniLabel"},"Not shipped",-1))],2),l("button",{onClick:e[9]||(e[9]=i=>s.filters.qualifiesForPoly==="yes"?s.filters.qualifiesForPoly="all":s.filters.qualifiesForPoly="yes"),class:a([{active:s.filters.qualifiesForPoly==="yes"},"btn tertiary left"])},[o(r,{name:s.filters.qualifiesForPoly==="yes"?"checkbox-active":"checkbox"},null,8,["name"]),o(r,{name:"plus",size:"1.5"}),e[37]||(e[37]=l("div",{class:"miniLabel"},[l("small",null,"Crops that are"),y(" Eligible ")],-1))],2),l("button",{onClick:e[10]||(e[10]=i=>s.filters.qualifiesForPoly==="no"?s.filters.qualifiesForPoly="all":s.filters.qualifiesForPoly="no"),class:a([{active:s.filters.qualifiesForPoly==="no"},"btn tertiary left"])},[o(r,{name:s.filters.qualifiesForPoly==="no"?"checkbox-active":"checkbox"},null,8,["name"]),o(r,{name:"x",size:"1"}),e[38]||(e[38]=l("div",{class:"miniLabel"},[l("small",null,"Crops that are"),y(" Ineligible ")],-1))],2)])]),l("div",ue,[e[44]||(e[44]=l("div",{class:"label"},"Monoculture - Shipped 300 of crop",-1)),l("div",pe,[l("button",{onClick:e[11]||(e[11]=i=>s.filters.mono==="yes"?s.filters.mono="all":s.filters.mono="yes"),class:a([{active:s.filters.mono==="yes"},"btn tertiary left"])},[o(r,{name:s.filters.mono==="yes"?"checkbox-active":"checkbox"},null,8,["name"]),o(r,{name:"shipped300"}),e[40]||(e[40]=l("div",{class:"miniLabel"},"Shipped 300",-1))],2),l("button",{onClick:e[12]||(e[12]=i=>s.filters.mono==="no"?s.filters.mono="all":s.filters.mono="no"),class:a([{active:s.filters.mono==="no"},"btn tertiary left"])},[o(r,{name:s.filters.mono==="no"?"checkbox-active":"checkbox"},null,8,["name"]),o(r,{name:"x",size:"1"}),e[41]||(e[41]=l("div",{class:"miniLabel"},"Not shipped",-1))],2),l("button",{onClick:e[13]||(e[13]=i=>s.filters.qualifiesForMono==="yes"?s.filters.qualifiesForMono="all":s.filters.qualifiesForMono="yes"),class:a([{active:s.filters.qualifiesForMono==="yes"},"btn tertiary left"])},[o(r,{name:s.filters.qualifiesForMono==="yes"?"checkbox-active":"checkbox"},null,8,["name"]),o(r,{name:"plus",size:"1.5"}),e[42]||(e[42]=l("div",{class:"miniLabel"},[l("small",null,"Crops that are"),y(" Eligible ")],-1))],2),l("button",{onClick:e[14]||(e[14]=i=>s.filters.qualifiesForMono==="no"?s.filters.qualifiesForMono="all":s.filters.qualifiesForMono="no"),class:a([{active:s.filters.qualifiesForMono==="no"},"btn tertiary left"])},[o(r,{name:s.filters.qualifiesForMono==="no"?"checkbox-active":"checkbox"},null,8,["name"]),o(r,{name:"x",size:"1"}),e[43]||(e[43]=l("div",{class:"miniLabel"},[l("small",null,"Crops that are"),y(" Ineligible ")],-1))],2)])]),l("div",me,[e[46]||(e[46]=l("div",{class:"label"},"Season",-1)),l("div",ve,[l("button",{onClick:e[15]||(e[15]=i=>s.filters.season==="spring"?s.filters.season="all":s.filters.season="spring"),class:a([{active:s.filters.season==="spring"},"btn tertiary left"])},[o(r,{name:s.filters.season==="spring"?"checkbox-active":"checkbox"},null,8,["name"]),o(r,{name:"season-spring"})],2),l("button",{onClick:e[16]||(e[16]=i=>s.filters.season==="summer"?s.filters.season="all":s.filters.season="summer"),class:a([{active:s.filters.season==="summer"},"btn tertiary left"])},[o(r,{name:s.filters.season==="summer"?"checkbox-active":"checkbox"},null,8,["name"]),o(r,{name:"season-summer"})],2),l("button",{onClick:e[17]||(e[17]=i=>s.filters.season==="fall"?s.filters.season="all":s.filters.season="fall"),class:a([{active:s.filters.season==="fall"},"btn tertiary left"])},[o(r,{name:s.filters.season==="fall"?"checkbox-active":"checkbox"},null,8,["name"]),o(r,{name:"season-fall"})],2),l("button",{onClick:e[18]||(e[18]=i=>s.filters.season==="winter"?s.filters.season="all":s.filters.season="winter"),class:a([{active:s.filters.season==="winter"},"btn tertiary left"])},[o(r,{name:s.filters.season==="winter"?"checkbox-active":"checkbox"},null,8,["name"]),o(r,{name:"season-winter"})],2)]),l("div",be,[l("button",{onClick:e[19]||(e[19]=i=>s.filters.seasonExclusive==="yes"?s.filters.seasonExclusive="no":s.filters.seasonExclusive="yes"),class:a([{active:s.filters.seasonExclusive==="yes"},"btn block left tertiary"])},[o(r,{name:s.filters.seasonExclusive==="yes"?"checkbox-active":"checkbox"},null,8,["name"]),e[45]||(e[45]=y(" Only grown in selected season ",-1))],2)])]),l("div",ye,[e[51]||(e[51]=l("div",{class:"label"},"Crops",-1)),l("div",ge,[l("button",{onClick:e[20]||(e[20]=i=>s.filters.crop==="yes"?s.filters.crop="all":s.filters.crop="yes"),class:a([{active:s.filters.crop==="yes"},"btn tertiary left"])},[o(r,{name:s.filters.crop==="yes"?"checkbox-active":"checkbox"},null,8,["name"]),o(r,{name:"corn"}),e[47]||(e[47]=l("div",{class:"miniLabel"},"Grown from seed",-1))],2),l("button",{onClick:e[21]||(e[21]=i=>s.filters.crop==="no"?s.filters.crop="all":s.filters.crop="no"),class:a([{active:s.filters.crop==="no"},"btn tertiary left"])},[o(r,{name:s.filters.crop==="no"?"checkbox-active":"checkbox"},null,8,["name"]),o(r,{name:"x",size:"1"}),e[48]||(e[48]=l("div",{class:"miniLabel"},"Not grown",-1))],2)]),l("div",Ce,[l("button",{onClick:e[22]||(e[22]=i=>s.filters.regrows==="yes"?s.filters.regrows="all":s.filters.regrows="yes"),class:a([{active:s.filters.regrows==="yes"},"btn tertiary left"])},[o(r,{name:s.filters.regrows==="yes"?"checkbox-active":"checkbox"},null,8,["name"]),o(r,{name:"sprout"}),e[49]||(e[49]=l("div",{class:"miniLabel"},"Regrows",-1))],2),l("button",{onClick:e[23]||(e[23]=i=>s.filters.regrows==="no"?s.filters.regrows="all":s.filters.regrows="no"),class:a([{active:s.filters.regrows==="no"},"btn tertiary left"])},[o(r,{name:s.filters.regrows==="no"?"checkbox-active":"checkbox"},null,8,["name"]),o(r,{name:"x",size:"1"}),e[50]||(e[50]=l("div",{class:"miniLabel"},"Does not regrow",-1))],2)])]),l("div",ke,[e[52]||(e[52]=l("div",{class:"label"},"Dye color",-1)),l("div",xe,[(f(!0),p(L,null,q(c(U),(i,u)=>(f(),p("button",{key:u,onClick:w=>s.filters.color===u.toString()?s.filters.color="":s.filters.color=u.toString(),class:a([{active:s.filters.color===u.toString()},"btn tertiary left"])},[o(r,{name:s.filters.color===u.toString()?"checkbox-active":"checkbox"},null,8,["name"]),l("div",we,[l("small",null,x(u.toString().charAt(0).toUpperCase()+u.toString().slice(1)),1),l("div",{class:"filterColorLabel",style:S("background-color: ".concat(u,";"))},null,4)])],10,he))),128))])])]),_:1},8,["filtered-items","is-filtered","is-sorted","list-length","filtered-list-length","onClearFilters"])]),_:1})])}}}),qe=R(Le,[["__scopeId","data-v-9edd2061"]]);export{qe as default};
