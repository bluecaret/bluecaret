import{d as K,u as R,r as T,y as W,o as J,S as Q,N as X,c as m,a as r,i as B,e as _,b as e,t as k,F as E,g as O,f as i,n as z,k as M,p as P,j as I,q as Y,s as Z,_ as ss}from"./index-crzrhOP4.js";import{_ as es}from"./PriceAdjustedModal.vue_vue_type_script_setup_true_lang-BuU_qDke.js";const as={key:0,class:"mainList"},ts={class:"detailIntro"},os={class:"detailIntroContainer detailIntroContainerSpriteOnly"},is={class:"detailIntroContent detailIntroContentCenter"},ns={class:"detailIntroDescription"},ls={class:"box twigsLight"},rs={class:"boxContent"},cs={class:"professionChart"},fs={class:"level level5"},ms={class:"levelItems"},ds=["onClick"],ps={class:"level level10"},vs={class:"levelItems"},us=["onClick","disabled"],_s={class:"levelItem"},ks=["disabled"],ys={class:"level level10"},hs={class:"levelItems"},gs={class:"boxContent"},bs={class:"box twigsLight"},Cs={class:"accordion"},xs={class:"accordionHeader"},Ss={class:"accordionContent"},Ls={key:0,class:"tagGroup"},js={class:"miniLabel"},Bs={key:1,class:"tagGroup tagGroupSpan"},Es=K({__name:"SkillDetails",setup(Os){const s=R(),u=X(),$=Q,a=T(),N=(n,o)=>{var f,C,y,x,l,t,c,d,S,U,q,w,A,D,F;if(s.farms[s.farm].professions[n]=!s.farms[s.farm].professions[n],s.farms[s.farm].professions[n]&&o==="5"&&((f=a.value)!=null&&f.professions))s.farms[s.farm].professions["".concat(u.params.id,"Mastery")]=!1,Object.keys((C=a.value)==null?void 0:C.professions).forEach(p=>{var v,h,g,b,L;p!==n&&(s.farms[s.farm].professions[p]=!1),(h=(v=a.value)==null?void 0:v.professions[p])!=null&&h.professions&&Object.keys((L=(b=(g=a.value)==null?void 0:g.professions[p])==null?void 0:b.professions)!=null?L:{}).forEach(j=>{j!==n&&(s.farms[s.farm].professions[j]=!1)})});else if(!s.farms[s.farm].professions[n]&&o==="5")(x=(y=a.value)==null?void 0:y.professions[n])!=null&&x.professions&&Object.keys((c=(t=(l=a.value)==null?void 0:l.professions[n])==null?void 0:t.professions)!=null?c:{}).forEach(p=>{p!==n&&(s.farms[s.farm].professions[p]=!1)}),s.farms[s.farm].professions["".concat(u.params.id,"Mastery")]=!1;else if(s.farms[s.farm].professions[n]&&o==="10"&&((d=a.value)!=null&&d.professions)){const p=Object.keys((S=a.value)==null?void 0:S.professions).find(v=>{var h,g,b;return(b=(g=(h=a.value)==null?void 0:h.professions[v])==null?void 0:g.professions)==null?void 0:b.hasOwnProperty(n)});p&&(s.farms[s.farm].professions[p]=!0,Object.keys((q=(U=a.value)==null?void 0:U.professions)!=null?q:{}).forEach(v=>{var h,g,b,L,j;v!==p&&(s.farms[s.farm].professions[v]=!1,(g=(h=a.value)==null?void 0:h.professions[v])!=null&&g.professions&&Object.keys((j=(L=(b=a.value)==null?void 0:b.professions[v])==null?void 0:L.professions)!=null?j:{}).forEach(H=>{s.farms[s.farm].professions[H]=!1}))}),Object.keys((D=(A=(w=a.value)==null?void 0:w.professions[p])==null?void 0:A.professions)!=null?D:{}).forEach(v=>{v!==n&&(s.farms[s.farm].professions[v]=!1)}))}else!s.farms[s.farm].professions[n]&&o==="10"&&((F=a.value)!=null&&F.professions)&&(s.farms[s.farm].professions["".concat(u.params.id,"Mastery")]=!1);s.saveFarms()},V=()=>{const n="".concat(u.params.id,"Mastery");s.farms[s.farm].professions[n]=!s.farms[s.farm].professions[n],s.saveFarms()},G=W(()=>{var f,C;let n=!1,o=!1;return(f=a.value)!=null&&f.professions&&Object.keys((C=a.value)==null?void 0:C.professions).forEach(y=>{var x,l,t,c,d;s.farms[s.farm].professions[y]&&(n=!0,(l=(x=a.value)==null?void 0:x.professions[y])!=null&&l.professions&&Object.keys((d=(c=(t=a.value)==null?void 0:t.professions[y])==null?void 0:c.professions)!=null?d:{}).forEach(S=>{s.farms[s.farm].professions[S]&&(o=!0)}))}),n&&o});return J(()=>{a.value=$[u.params.id],s.header={hideIcon:!0,hideUp:!1,upPath:"/library/skill",label:a.value.label,bookmark:{appType:"page",id:u.params.id.replaceAll(/\s+/g,"-"),name:a.value.label,link:"/library/skill/".concat(u.params.id),icon:a.value.icon,scale:3}},s.logs&&console.info("[🪵] ➡️ CURRENT SKILL:",a.value)}),(n,o)=>{const f=M("icon"),C=M("wiki-link"),y=M("app-footer-message"),x=M("app-fab");return r(),m("main",null,[a.value?(r(),m("div",as,[e("div",ts,[e("div",os,[e("div",is,[e("p",ns,k(a.value.description),1)])])]),e("div",ls,[o[4]||(o[4]=e("div",{class:"boxHeader"},"Professions",-1)),e("div",rs,[e("div",cs,[e("div",fs,[o[3]||(o[3]=e("div",{class:"levelBar"},null,-1)),e("div",ms,[(r(!0),m(E,null,O(i($)[i(u).params.id].professions,(l,t)=>(r(),m("div",{key:t,class:"levelItem"},[e("button",{class:z(["professionBtn btn block tertiary",{active:i(s).farms[i(s).farm].professions[t]}]),onClick:c=>N(t,"5")},[_(f,{name:i(s).farms[i(s).farm].professions[t]?"checkbox-active":"checkbox"},null,8,["name"]),_(f,{name:t,size:"1.5"},null,8,["name"]),e("div",null,[e("strong",null,k(t.charAt(0).toUpperCase()+t.slice(1)),1),e("small",null,k(l==null?void 0:l.description),1)]),["rancher","tiller","artisan","blacksmith","gemologist","tapper","fisher","angler"].includes(t)?(r(),P(f,{key:0,class:"adjustsPricing",name:"gold-coin",size:"1.33",style:{"margin-inline-start":"auto"}})):B("",!0)],10,ds),e("div",ps,[o[1]||(o[1]=e("div",{class:"levelBar"},null,-1)),e("div",vs,[(r(!0),m(E,null,O(l==null?void 0:l.professions,(c,d)=>(r(),m("button",{class:z(["levelItem professionBtn btn block tertiary",{active:i(s).farms[i(s).farm].professions[d]}]),key:d,onClick:S=>N(d,"10"),disabled:!i(s).farms[i(s).farm].professions[t]},[_(f,{name:i(s).farms[i(s).farm].professions[d]?"checkbox-active":"checkbox"},null,8,["name"]),_(f,{name:d,size:"1.5"},null,8,["name"]),e("div",null,[e("strong",null,k(d.charAt(0).toUpperCase()+d.slice(1)),1),e("small",null,k(c==null?void 0:c.description),1)]),["rancher","tiller","artisan","blacksmith","gemologist","tapper","fisher","angler"].includes(d)?(r(),P(f,{key:0,class:"adjustsPricing",name:"gold-coin",size:"1.33",style:{"margin-inline-start":"auto"}})):B("",!0)],10,us))),128))])])]))),128)),e("div",_s,[e("button",{class:z(["professionBtn btn block tertiary",{active:i(s).farms[i(s).farm].professions[i(u).params.id+"Mastery"]}]),onClick:o[0]||(o[0]=l=>V()),disabled:!G.value},[_(f,{name:i(s).farms[i(s).farm].professions[i(u).params.id+"Mastery"]?"checkbox-active":"checkbox"},null,8,["name"]),_(f,{name:"mastery",size:"1.5"}),e("div",null,[e("strong",null,k(a.value.label)+" Mastery",1)])],10,ks),e("div",ys,[o[2]||(o[2]=e("div",{class:"levelBar"},null,-1)),e("div",hs,[(r(!0),m(E,null,O(i($)[i(u).params.id].mastery,(l,t)=>(r(),m("div",{class:"levelItem tag",key:t},k(l),1))),128))])])])])])])]),e("div",gs,[_(es,{"is-legend":""})])]),e("div",bs,[o[6]||(o[6]=e("div",{class:"boxHeader"},"Unlocked Items",-1)),e("div",Cs,[(r(!0),m(E,null,O(a.value.levels,(l,t)=>(r(),m("details",{key:t,class:"accordionItem"},[e("summary",xs,[["5","10"].includes(t.toString())?(r(),P(f,{key:0,name:t.toString()==="5"?"quality-silver":t.toString()==="10"?"quality-gold":"level",size:"2"},null,8,["name"])):B("",!0),I(" "+k("Level ".concat(t)),1)]),e("div",Ss,[l.length?(r(),m("div",Ls,[(r(!0),m(E,null,O(l,c=>(r(),m("div",{class:"tag tagBlock",key:c.qualifiedId},[c.sprite?(r(),m("div",{key:0,class:"appIcon",style:Y(i(Z)({index:c.sprite,texture:c.texture,scale:c.qualifiedId.startsWith("(BC)")?1:2}))},null,4)):B("",!0),e("div",js,k(c.label),1)]))),128))])):(r(),m("div",Bs,[...o[5]||(o[5]=[e("div",{class:"tag"},[e("div",{class:"miniLabel"},[I(" Skill Profession Unlocked "),e("small",null,"(see above)")])],-1)])]))])]))),128))])]),_(C,{name:a.value.label},null,8,["name"])])):B("",!0),_(y,{type:"skill"}),_(x)])}}}),zs=ss(Es,[["__scopeId","data-v-b62a6cd0"]]);export{zs as default};
