import{d as x,u as M,r as h,o as w,c as d,a as i,b as l,e as r,f as u,F as D,g as A,h as p,i as F,j as _,k as L,w as N,v as B,A as E,l as v,n as z,t as V,_ as $}from"./index-crzrhOP4.js";const S={class:"mainList"},U={class:"box twigsLight"},j={class:"boxContent"},G={class:"tagGroup"},R=["onClick"],q=["onClick"],H=["onClick"],J=["onClick"],K={key:1,class:"tag tagBlock"},O={class:"form addEventForm"},P={class:"field addEventFieldTitle"},Q=x({__name:"TodoList",setup(W){const e=M(),m={id:btoa("todo_"+new Date(Math.ceil(Math.random()*1e13)).getTime()),title:"",completed:!1},o=h(m),c=h(!1),k=n=>{const t=e.farms[e.farm].todoItems.findIndex(s=>s.id===n.id);t!==-1&&(e.farms[e.farm].todoItems[t].completed=!e.farms[e.farm].todoItems[t].completed,e.saveFarms())},g=()=>{c.value=!1,o.value={...m},e.openModal("todoAdd")},T=()=>{e.farms[e.farm].todoItems.unshift({id:btoa("todo_"+new Date(Math.ceil(Math.random()*1e13)).getTime()),title:o.value.title,completed:o.value.completed}),e.saveFarms(),e.closeModal(),o.value=m},y=()=>{c.value=!1,o.value=m,e.closeModal()},C=n=>{o.value={...n},c.value=!0,e.openModal("todoAdd")},I=()=>{if(!o.value)return;const n=e.farms[e.farm].todoItems.findIndex(t=>{var s;return t.id===((s=o.value)==null?void 0:s.id)});n!==-1&&(e.farms[e.farm].todoItems[n]={...o.value},e.saveFarms()),e.closeModal(),c.value=!1},b=n=>{const t=e.farms[e.farm].todoItems.findIndex(s=>s.id===n.id);t!==-1&&(e.farms[e.farm].todoItems.splice(t,1),e.saveFarms()),e.closeModal()};return w(()=>{e.header={hideIcon:!1,hideUp:!0,iconName:"check",iconSize:"2",label:"To Do List",bookmark:{appType:"page",id:"todo",name:"To Do",link:"/gunther/todo",icon:"check",scale:3}}}),(n,t)=>{const s=L("icon");return i(),d("main",null,[l("div",S,[l("div",U,[l("div",j,[l("div",G,[u(e).farms[u(e).farm].todoItems.length>0?(i(!0),d(D,{key:0},A(u(e).farms[u(e).farm].todoItems,a=>(i(),d("div",{key:a.id,class:"tag tagBlock",style:{"grid-template":"auto / 3.2rem 1fr 3.2rem"},onClick:f=>k(a)},[l("button",{class:"todoToggle",onClick:v(f=>k(a),["stop"]),style:{padding:"0","min-height":"100%"}},[r(s,{name:a.completed?"checkbox-active":"checkbox"},null,8,["name"])],8,q),l("div",{class:z(["miniLabel",{completed:a.completed}])},V(a.title),3),a.completed?(i(),d("button",{key:0,class:"btn tertiary",onClick:v(f=>b(a),["stop"]),style:{padding:"0","min-height":"100%"},"aria-label":"Delete To Do item"},[r(s,{name:"trash",size:"2"})],8,H)):(i(),d("button",{key:1,class:"btn tertiary",onClick:v(f=>C(a),["stop"]),style:{padding:"0","min-height":"100%"},"aria-label":"Edit To Do item"},[r(s,{name:"pencil",size:"1.5"})],8,J))],8,R))),128)):(i(),d("div",K,"Ran out of things to do already?")),r(E,{"modal-id":"todoAdd",class:"tagBlock",title:"Add To Do",height:"auto"},{button:p(()=>[l("button",{class:"btn block",onClick:g},"Add new To Do item")]),body:p(()=>[l("div",O,[l("div",P,[t[2]||(t[2]=l("label",{for:"newTodoTitle",class:"label"},"Title",-1)),N(l("input",{type:"text",id:"newTodoTitle","onUpdate:modelValue":t[0]||(t[0]=a=>o.value.title=a),class:"input"},null,512),[[B,o.value.title]])])])]),footer:p(()=>[l("button",{class:"btn block tertiary",onClick:y},"Close"),c.value?(i(),d("button",{key:0,class:"btn block",onClick:t[1]||(t[1]=a=>b(o.value))},[r(s,{name:"trash"}),t[3]||(t[3]=_(" Delete ",-1))])):F("",!0),c.value?(i(),d("button",{key:1,class:"btn block secondary",onClick:I},[r(s,{name:"pencil",size:"1.5"}),t[4]||(t[4]=_(" Save ",-1))])):(i(),d("button",{key:2,class:"btn block secondary",onClick:T},"Add To Do"))]),_:1})])])])])])}}}),Y=$(Q,[["__scopeId","data-v-9b1e7a50"]]);export{Y as default};
