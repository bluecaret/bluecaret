System.register(["./index-legacy-At7YkI8I.js","./useFilter-legacy-4f4iKXJK.js","./ListCollectionStats-legacy-CsLCG-zj.js","./objects-legacy-D3ucy5zm.js"],function(e,l){"use strict";var t,s,r,i,o,a,n,c,d,f,m,u,g,p,v,b,h,y,C,k,L,D,S,w,F,x,A,N;return{setters:[e=>{t=e.d,s=e.u,r=e.r,i=e.K,o=e.o,a=e.c,n=e.a,c=e.e,d=e.i,f=e.f,m=e.p,u=e.F,g=e.g,p=e.k,v=e.h,b=e.b,h=e.n,y=e.L,C=e.q,k=e.s,L=e.M,D=e.t,S=e.j},e=>{w=e.u,F=e.F,x=e.L},e=>{A=e.L},e=>{N=e.a}],execute:function(){const l={key:0,class:"mainList list"},j=["onClick"],B={class:"header"},I={class:"spriteContainer"},M=["aria-label"],Z={class:"title"},_={key:0,class:"tag tagBlock"},P={class:"miniLabel"},U={key:1,class:"tag tagBlock"},$={class:"miniLabel"},z={class:"field"},O={class:"filterBtns2"},T={class:"field"},q={class:"filterBtns2"},H={class:"field"},K={class:"filterBtns3"},E=["onClick"],G={class:"miniLabel"};e("default",t({__name:"MineralList",setup(e){const t=s(),J=r(t.mineral),Q=i(t.settings.mineral),R=[{default:!0,value:"collection",label:"Collection order (first to last)",sort:(e,l)=>parseInt(e.id.toString())-parseInt(l.id.toString())},{value:"collectionDesc",label:"Collection order (last to first)",sort:(e,l)=>parseInt(l.id.toString())-parseInt(e.id.toString())},{value:"name",label:"A-Z",sort:(e,l)=>e.name.toLowerCase()<l.name.toLowerCase()?-1:e.name.toLowerCase()>l.name.toLowerCase()?1:0},{value:"nameDesc",label:"Z-A",sort:(e,l)=>e.name.toLowerCase()>l.name.toLowerCase()?-1:e.name.toLowerCase()<l.name.toLowerCase()?1:0},{value:"price",label:"Base Price (low to high)",sort:(e,l)=>e.price-l.price},{value:"priceDesc",label:"Base Price (high to low)",sort:(e,l)=>l.price-e.price},{value:"color",label:"Color (A-Z)",sort:(e,l)=>{const t=e.color?e.color.toLowerCase():"",s=l.color?l.color.toLowerCase():"";return""===t&&""!==s?1:""!==t&&""===s||t<s?-1:t>s?1:0}},{value:"colorDesc",label:"Color (Z-A)",sort:(e,l)=>{const t=e.color?e.color.toLowerCase():"",s=l.color?l.color.toLowerCase():"";return""===t&&""!==s?1:""!==t&&""===s||t>s?-1:t<s?1:0}}],V=[{value:"color",filter:(e,l)=>l.color===e},{value:"donated",default:"all",filter:(e,l)=>N(l,"donated",t.farms[t.farm].collections.mineral,e)}],{filteredAndSorted:W,clearFilters:X,isFiltered:Y,isSorted:ee}=w({type:"mineral",items:J.value,sortOptions:R,filterOptions:V});return o(()=>{t.header={hideIcon:!1,hideUp:!0,iconName:"minerals",iconSize:"2",label:"Minerals",bookmark:{appType:"page",id:"minerals",name:"Minerals",link:"/collections/mineral",icon:"minerals",scale:3}}}),(e,s)=>{const r=p("icon"),i=p("app-footer-message"),o=p("app-fab");return n(),a("main",null,[c(A,{type:"mineral"}),f(t).isLoading?d("",!0):(n(),a("div",l,[f(W).length>0?(n(),a(u,{key:0},[f(Y)?(n(),m(F,{key:0,"list-length":J.value.length,"filtered-list-length":f(W).length,onClearFilters:f(X)},null,8,["list-length","filtered-list-length","onClearFilters"])):d("",!0),(n(!0),a(u,null,g(f(W),e=>(n(),a("button",{key:e.id.toString(),onClick:l=>f(t).navigateTo(`/collections/mineral/${e.id}`),class:"object"},[b("div",B,[b("div",I,[b("div",{class:"sprite",style:C(f(k)({texture:e.texture,index:e.sprite,scale:3})),"aria-label":e.displayName?e.displayName:e.name},null,12,M)]),c(L,{compact:"",type:"mineral",item:e,class:"status"},null,8,["item"])]),s[8]||(s[8]=b("div",{class:"boxLightHr"},null,-1)),b("h2",Z,D(e.displayName?e.displayName:e.name),1),Q.filters.sort&&["color","colorDesc"].includes(Q.filters.sort)?(n(),a("div",_,[e.color?(n(),a("div",{key:0,class:"appIcon",style:C(`width: 2.4rem; height: 2.4rem; background-color: ${e.color};`)},null,4)):d("",!0),b("div",P,[s[6]||(s[6]=b("small",null,"Dye color",-1)),S(" "+D(e.color?e.color.charAt(0).toUpperCase()+e.color.slice(1):"N/A"),1)])])):d("",!0),Q.filters.sort&&["price","priceDesc"].includes(Q.filters.sort)?(n(),a("div",U,[c(r,{name:"gold-coin"}),b("div",$,[s[7]||(s[7]=b("small",null,"Sell price",-1)),S(" "+D(e.price?e.price+"g":"N/A"),1)])])):d("",!0)],8,j))),128)),f(Y)?(n(),m(F,{key:1,"list-length":J.value.length,"filtered-list-length":f(W).length,onClearFilters:f(X)},null,8,["list-length","filtered-list-length","onClearFilters"])):d("",!0)],64)):(n(),m(F,{key:1,empty:"","list-length":J.value.length,"filtered-list-length":f(W).length,onClearFilters:f(X)},null,8,["list-length","filtered-list-length","onClearFilters"]))])),c(i,{type:"mineral"}),c(o,null,{default:v(()=>[c(x,{"filtered-items":f(W),"is-filtered":f(Y),"is-sorted":f(ee),"list-length":J.value.length,"filtered-list-length":f(W).length,onClearFilters:f(X)},{default:v(()=>[s[17]||(s[17]=b("h3",null,"Sorting",-1)),b("div",z,[b("div",O,[b("button",{onClick:s[0]||(s[0]=e=>"collection"===Q.filters.sort?Q.filters.sort="collectionDesc":Q.filters.sort="collection"),class:h([{active:Q.filters.sort&&["collection","collectionDesc"].includes(Q.filters.sort)},"btn tertiary left"])},[c(r,{name:"collection"===Q.filters.sort?"sort-asc":"collectionDesc"===Q.filters.sort?"sort-desc":"sort"},null,8,["name"]),s[9]||(s[9]=b("div",{class:"miniLabel"},"Collection",-1))],2),b("button",{onClick:s[1]||(s[1]=e=>"name"===Q.filters.sort?Q.filters.sort="nameDesc":Q.filters.sort="name"),class:h([{active:Q.filters.sort&&["name","nameDesc"].includes(Q.filters.sort)},"btn tertiary left"])},[c(r,{name:"name"===Q.filters.sort?"sort-asc":"nameDesc"===Q.filters.sort?"sort-desc":"sort"},null,8,["name"]),s[10]||(s[10]=b("div",{class:"miniLabel"},"Name",-1))],2),b("button",{onClick:s[2]||(s[2]=e=>"price"===Q.filters.sort?Q.filters.sort="priceDesc":Q.filters.sort="price"),class:h([{active:Q.filters.sort&&["price","priceDesc"].includes(Q.filters.sort)},"btn tertiary left"])},[c(r,{name:"price"===Q.filters.sort?"sort-asc":"priceDesc"===Q.filters.sort?"sort-desc":"sort"},null,8,["name"]),s[11]||(s[11]=b("div",{class:"miniLabel"},"Price",-1))],2),b("button",{onClick:s[3]||(s[3]=e=>"color"===Q.filters.sort?Q.filters.sort="colorDesc":Q.filters.sort="color"),class:h([{active:Q.filters.sort&&["color","colorDesc"].includes(Q.filters.sort)},"btn tertiary left"])},[c(r,{name:"color"===Q.filters.sort?"sort-asc":"colorDesc"===Q.filters.sort?"sort-desc":"sort"},null,8,["name"]),s[12]||(s[12]=b("div",{class:"miniLabel"},"Dye Color",-1))],2)])]),s[18]||(s[18]=b("hr",null,null,-1)),s[19]||(s[19]=b("h3",null,"Filtering",-1)),b("div",T,[s[15]||(s[15]=b("div",{class:"label"},"Donated minerals",-1)),b("div",q,[b("button",{onClick:s[4]||(s[4]=e=>"yes"===Q.filters.donated?Q.filters.donated="all":Q.filters.donated="yes"),class:h([{active:"yes"===Q.filters.donated},"btn tertiary left"])},[c(r,{name:"yes"===Q.filters.donated?"checkbox-active":"checkbox"},null,8,["name"]),c(r,{name:"donated"}),s[13]||(s[13]=b("div",{class:"miniLabel"},"Donated",-1))],2),b("button",{onClick:s[5]||(s[5]=e=>"no"===Q.filters.donated?Q.filters.donated="all":Q.filters.donated="no"),class:h([{active:"no"===Q.filters.donated},"btn tertiary left"])},[c(r,{name:"no"===Q.filters.donated?"checkbox-active":"checkbox"},null,8,["name"]),c(r,{name:"x",size:"1"}),s[14]||(s[14]=b("div",{class:"miniLabel"},"Not donated",-1))],2)])]),b("div",H,[s[16]||(s[16]=b("div",{class:"label"},"Dye color",-1)),b("div",K,[(n(!0),a(u,null,g(f(y),(e,l)=>(n(),a("button",{key:l,onClick:e=>Q.filters.color===l.toString()?Q.filters.color="":Q.filters.color=l.toString(),class:h([{active:Q.filters.color===l.toString()},"btn tertiary left"])},[c(r,{name:Q.filters.color===l.toString()?"checkbox-active":"checkbox"},null,8,["name"]),b("div",G,[b("small",null,D(l.toString().charAt(0).toUpperCase()+l.toString().slice(1)),1),b("div",{class:"filterColorLabel",style:C(`background-color: ${l};`)},null,4)])],10,E))),128))])])]),_:1},8,["filtered-items","is-filtered","is-sorted","list-length","filtered-list-length","onClearFilters"])]),_:1})])}}}))}}});
