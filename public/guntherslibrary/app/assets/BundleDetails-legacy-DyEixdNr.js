System.register(["./index-legacy-At7YkI8I.js"],function(e,l){"use strict";var a,t,i,n,d,r,o,s,u,m,c,v,b,p,y,f,g,x,k,I,h,w,q,D,C;return{setters:[e=>{a=e.d,t=e.u,i=e.r,n=e.y,d=e.B,r=e.o,o=e.k,s=e.c,u=e.i,m=e.a,c=e.n,v=e.b,b=e.e,p=e.p,y=e.q,f=e.f,g=e.s,x=e.t,k=e.A,I=e.h,h=e.F,w=e.g,q=e.j,D=e._,C=e.N}],execute:function(){var l=document.createElement("style");l.textContent=".box.redMetal[data-v-3dac132b]{padding:.7rem}.roomHeader[data-v-3dac132b]{display:flex;align-items:center;gap:.8rem;padding:.8rem .8rem .4rem;height:auto}.roomName[data-v-3dac132b]{font-weight:700;font-size:1.6rem}.roomReward[data-v-3dac132b]{margin-inline-start:auto;font-weight:500;display:flex;align-items:center;gap:.4rem;font-size:1.3rem}.bundleSlotsGrid[data-v-3dac132b],.bundleItemsGrid[data-v-3dac132b]{display:flex;flex-wrap:wrap;justify-content:center;gap:.4rem}.bundleSlotsGrid[data-v-3dac132b]>*,.bundleItemsGrid[data-v-3dac132b]>*{width:5rem;display:flex;align-items:center;justify-content:center;align-self:stretch;padding:.4rem}.bundleSlotsGrid[data-v-3dac132b]{margin-block-start:1.6rem}.bundleItem[data-v-3dac132b]{display:flex;flex-direction:column;align-items:center;justify-content:center}.bundleIcon[data-v-3dac132b]{position:relative;width:100%;aspect-ratio:1;display:flex;align-items:center;justify-content:center}.bundleItemRequirements[data-v-3dac132b]{position:absolute;bottom:.2rem;left:.2rem;display:flex;align-items:center;gap:.2rem}.bundleItemRequirements .bundleQuality[data-v-3dac132b]{display:flex;align-items:center;justify-content:center;width:1.5rem;height:1.5rem}.bundleItemRequirements .bundleQuantity[data-v-3dac132b]{font-size:1rem;font-weight:500;color:var(--text-secondary);text-shadow:.1rem .1rem 0rem rgb(0,0,0),-.1rem -.1rem 0rem rgb(0,0,0),.1rem -.1rem 0rem rgb(0,0,0),-.1rem .1rem 0rem rgb(0,0,0);color:#fff}.bundleActions[data-v-3dac132b]{display:flex;gap:.2rem;margin-top:.4rem;width:100%}.bundleItemToSelectWrapper[data-v-3dac132b]{width:100%;display:grid;grid-template-columns:1fr 3.6rem;grid-template-rows:1fr;gap:.2rem}.bundleItemToSelect[data-v-3dac132b]{display:flex;align-items:center;justify-content:start;padding:.6rem 1.2rem}.bundleItemToSelectContent[data-v-3dac132b]{flex:1;display:flex;align-items:center;justify-content:start;gap:.8rem}.bundleName[data-v-3dac132b]{font-size:1.2rem}.bundleSlotActive[data-v-3dac132b],.bundleSlot[data-v-3dac132b]{display:flex;align-items:center;justify-content:center;aspect-ratio:1}.tag.rewardBox[data-v-3dac132b]{display:grid;grid-template:auto / 3.2rem 1fr 3.2rem;grid-template:auto / 1fr 3.2rem;align-items:center;gap:.6rem}.roomHeader[data-v-0e029fb4]{display:flex;align-items:center;gap:.8rem;padding:.8rem .8rem .4rem;height:auto}.roomName[data-v-0e029fb4]{font-weight:700;font-size:1.6rem}.roomReward[data-v-0e029fb4]{margin-inline-start:auto;font-weight:500;display:flex;align-items:center;gap:.4rem;font-size:1.3rem}.bundleSlotsGrid[data-v-0e029fb4],.bundleItemsGrid[data-v-0e029fb4]{display:flex;flex-wrap:wrap;justify-content:center;gap:.4rem}.bundleSlotsGrid[data-v-0e029fb4]>*,.bundleItemsGrid[data-v-0e029fb4]>*{width:6.8rem;display:flex;align-items:center;justify-content:center;align-self:stretch;padding:.4rem}.bundleSlotsGrid[data-v-0e029fb4]{margin-block-start:1.6rem}.bundleItem[data-v-0e029fb4]{display:flex;flex-direction:column;align-items:center;justify-content:center}.bundleIcon[data-v-0e029fb4]{position:relative;width:100%;aspect-ratio:1;display:flex;align-items:center;justify-content:center}.bundleItemRequirements[data-v-0e029fb4]{position:absolute;bottom:.2rem;left:.2rem;display:flex;align-items:center;gap:.2rem}.bundleItemRequirements .bundleQuality[data-v-0e029fb4]{display:flex;align-items:center;justify-content:center;width:1.5rem;height:1.5rem}.bundleItemRequirements .bundleQuantity[data-v-0e029fb4]{font-size:1rem;font-weight:500;color:var(--text-secondary);text-shadow:.1rem .1rem 0rem rgb(0,0,0),-.1rem -.1rem 0rem rgb(0,0,0),.1rem -.1rem 0rem rgb(0,0,0),-.1rem .1rem 0rem rgb(0,0,0);color:#fff}.bundleActions[data-v-0e029fb4]{display:flex;gap:.2rem;margin-top:.4rem;width:100%}.bundleBtn[data-v-0e029fb4]{flex:1;display:flex;align-items:center;justify-content:center;background-color:var(--bg-secondary);color:var(--text-secondary);border:1px solid var(--textTanDark);padding:.8rem 0}.bundleName[data-v-0e029fb4]{font-size:1.2rem}.bundleSlot[data-v-0e029fb4]{display:flex;align-items:center;justify-content:center;aspect-ratio:1}\n/*$vite$:1*/",document.head.appendChild(l);const R={class:"boxHeader roomHeader"},z={class:"roomName",style:{"margin-right":"auto"}},B={class:"tagGroup tagGroupSpanFlex"},S=["onClick","disabled"],j={class:"miniLabel"},G={class:"tagGroup tagGroupSpanFlex"},L=["onClick"],M={class:"miniLabel"},T={class:"boxContent"},N={class:"tagGroup"},$=["onClick"],Q={class:"tagGroup bundleItemToSelectContent"},A={key:0,class:"miniLabel",style:{"margin-right":"auto"}},_={class:"miniLabel",style:{"margin-right":"auto"}},F={class:"miniLabel"},U=["onClick"],O={key:0,class:"tag tagBlock",style:{border:"red 2px dashed"}},P={class:"miniLabel"},H={class:"bundleSlotsGrid"},V={class:"boxContent"},E={key:0,class:"tag tagBlock rewardBox"},J={class:"tagGroup",style:{"align-items":"center",gap:"0.4rem"}},W={class:"miniLabel"},K=D(a({__name:"Bundle",props:{room:{type:String,required:!0},bundleIndex:{type:Number,required:!0}},setup(e){const l=t(),a=e,D=i([]),C=n(()=>l.farms[l.farm].collections.bundles[a.room][a.bundleIndex]),K=n(()=>a.room.replace(" ","")+"-"+a.bundleIndex),X=n(()=>C.value.bundleIndex),Y=n(()=>{var e;return null===(e=l.bundles[a.room])||void 0===e||null===(e=e[a.bundleIndex])||void 0===e?void 0:e[X.value]}),Z=e=>{const[t]=e.split("-slot-");return l.bundles[a.room][a.bundleIndex][X.value].required.find(e=>e.itemData.qualifiedId===t)||null},ee=e=>{if(!e)return;const a=l.searchIndex.find(l=>l.qualifiedId===e.itemData.qualifiedId);a&&l.navigateWithAppType(a)};return d(()=>l.openModalId,e=>{e==="selectBundleRequiredItems-"+K.value&&(D.value=[...C.value.required])}),r(()=>{D.value=[...C.value.required]}),(t,i)=>{var n;const d=o("icon");return Y.value?(m(),s("div",{key:0,class:c(["box",C.value.completed.length===Y.value.complete?"goldRounded":"redMetal"])},[v("div",R,[b(d,{name:`num-${a.bundleIndex+1}-sm`,size:"2",style:{"margin-right":"-0.8rem"}},null,8,["name"]),v("div",{class:"appIcon",style:y(f(g)({texture:"bundles",index:Y.value.bundleImageIndex,scale:1})+" margin-left: .4rem; flex: 0 0 auto;")},null,4),v("div",z,x(Y.value.bundleName)+" Bundle"+x("default"===Y.value.bundleType?"":" (remixed)"),1),Y.value.pick!==Y.value.required.length?(m(),p(k,{key:0,"modal-id":"selectBundleRequiredItems-"+K.value,title:`Pick ${Y.value.pick} required items`,height:"auto"},{button:I(()=>[v("button",{class:"btn tertiary",onClick:i[0]||(i[0]=e=>f(l).openModal("selectBundleRequiredItems-"+K.value))},[b(d,{name:"pencil",size:"1.5"})])]),body:I(()=>[v("div",B,[(m(!0),s(h,null,w(Y.value.required,(e,a)=>{var t;return m(),s("button",{class:c(["btn primary block left",{active:D.value.includes(e.itemData.qualifiedId)}]),key:a,onClick:a=>(e=>{const a=D.value.findIndex(l=>l===e.itemData.qualifiedId);var t,i;-1===a?D.value.length<(null!==(t=null===(i=Y.value)||void 0===i?void 0:i.pick)&&void 0!==t?t:0)&&D.value.push(e.itemData.qualifiedId):D.value.splice(a,1),C.value.required=[...D.value],l.saveFarms()})(e),disabled:D.value.length>=(null!==(t=Y.value.pick)&&void 0!==t?t:0)&&!D.value.includes(e.itemData.qualifiedId)},[v("div",{class:"appIcon",style:y(f(g)({texture:e.itemData.texture||void 0,index:e.itemData.sprite||0,scale:2}))},null,4),v("div",j,x(e.itemData.displayName||e.itemData.name),1),D.value.includes(e.itemData.qualifiedId)?(m(),p(d,{key:0,name:"check",size:"2",style:{"margin-left":"auto"}})):u("",!0)],10,S)}),128))])]),footer:I(()=>[v("button",{class:"btn tertiary block",onClick:i[1]||(i[1]=e=>f(l).closeModal())},"Close")]),_:1},8,["modal-id","title"])):u("",!0),Object.keys(f(l).bundles[a.room][a.bundleIndex]).length>1?(m(),p(k,{key:1,"modal-id":"selectBundleGroup-"+K.value,title:`Select a bundle for bundle #${a.bundleIndex+1}`,height:"auto",style:{"margin-right":"0.6rem"}},{button:I(()=>[v("button",{class:"btn tertiary",onClick:i[2]||(i[2]=e=>f(l).openModal("selectBundleGroup-"+K.value))},[b(d,{name:"bundle",size:"1.5"})])]),body:I(()=>[v("div",G,[(m(!0),s(h,null,w(Object.values(f(l).bundles[a.room][a.bundleIndex]),(e,t)=>(m(),s("button",{class:c(["btn primary block left",{active:t===X.value}]),key:t,onClick:e=>(e=>{l.farms[l.farm].collections.bundles[a.room][a.bundleIndex].bundleIndex=e,l.farms[l.farm].collections.bundles[a.room][a.bundleIndex].completed=[],l.farms[l.farm].collections.bundles[a.room][a.bundleIndex].required=[];for(let n=0;n<(null!==(t=null===(i=Y.value)||void 0===i?void 0:i.pick)&&void 0!==t?t:0);n++){var t,i;Y.value&&l.farms[l.farm].collections.bundles[a.room][a.bundleIndex].required.push(Y.value.required[n].itemData.qualifiedId)}l.saveFarms(),l.closeModal()})(t)},[e.bundleImageIndex?(m(),s("div",{key:0,class:"appIcon",style:y(f(g)({texture:"bundles",index:e.bundleImageIndex,scale:1}))},null,4)):u("",!0),v("div",M,x(e.bundleName)+" Bundle"+x("default"===e.bundleType?"":" (remixed)"),1),t===X.value?(m(),p(d,{key:1,name:"check",size:"2",style:{"margin-left":"auto"}})):u("",!0)],10,L))),128))])]),footer:I(()=>[v("button",{class:"btn tertiary block",onClick:i[3]||(i[3]=e=>f(l).closeModal())},"Cancel")]),_:1},8,["modal-id","title"])):u("",!0)]),v("div",T,[v("div",N,[(m(!0),s(h,null,w(C.value.required,(e,t)=>{var n,r,o,k,I,w,D,R,z,B,S;return m(),s("div",{key:t,class:"bundleItemToSelectWrapper"},[v("button",{class:c(["btn block tertiary bundleItemToSelect",{active:C.value.completed.includes(`${e}-slot-${t}`)}]),onClick:a=>((e,a)=>{const t=`${e}-slot-${a}`,i=C.value.completed.findIndex(e=>e===t);if(-1===i){var n,d;if(C.value.completed.length>=(null!==(n=null===(d=Y.value)||void 0===d?void 0:d.complete)&&void 0!==n?n:C.value.required.length))return C.value.completed.splice(-1,1),void C.value.completed.push(t);C.value.completed.push(t)}else C.value.completed.splice(i,1);l.saveFarms()})(e,t)},["Vault"===a.room?(m(),p(d,{key:0,name:"gold-coin"})):(m(),s("div",{key:1,class:"appIcon",style:y(f(g)({texture:null===(n=Z(e))||void 0===n?void 0:n.itemData.texture,index:null===(r=Z(e))||void 0===r?void 0:r.itemData.sprite,scale:2}))},null,4)),v("div",Q,["Vault"===a.room?(m(),s("div",A,x(Y.value.bundleName),1)):(m(),s(h,{key:1},[v("div",_,x((null===(o=Z(e))||void 0===o?void 0:o.itemData.displayName)||(null===(k=Z(e))||void 0===k?void 0:k.itemData.name)),1),null!==(I=Z(e))&&void 0!==I&&I.minQuality&&"1"===(null===(w=Z(e))||void 0===w?void 0:w.minQuality)?(m(),p(d,{key:0,name:"quality-silver",size:"2"})):u("",!0),null!==(D=Z(e))&&void 0!==D&&D.minQuality&&"2"===(null===(R=Z(e))||void 0===R?void 0:R.minQuality)?(m(),p(d,{key:1,name:"quality-gold",size:"2"})):u("",!0),null!==(z=Z(e))&&void 0!==z&&z.minQuality&&"3"===(null===(B=Z(e))||void 0===B?void 0:B.minQuality)?(m(),p(d,{key:2,name:"quality-iridium",size:"2"})):u("",!0),v("div",F,[i[5]||(i[5]=v("small",null,"Qty",-1)),q(" x"+x(null===(S=Z(e))||void 0===S?void 0:S.quantity),1)])],64)),C.value.completed.includes(`${e}-slot-${t}`)?(m(),p(d,{key:2,name:"check",size:"2"})):u("",!0)])],10,$),v("button",{class:"btn tertiary",onClick:l=>ee(Z(e)),style:{flex:"0 0 auto",padding:"0.2rem 0.4rem 0rem 0.3rem"}},[b(d,{name:"arrow-forward",size:"2"})],8,U)])}),128)),C.value.required.length<(null!==(n=Y.value.pick)&&void 0!==n?n:0)?(m(),s("div",O,[b(d,{name:"question",size:"2"}),v("div",P,[v("div",null,[i[6]||(i[6]=q("Missing required items!",-1)),i[7]||(i[7]=v("br",null,null,-1)),i[8]||(i[8]=q("Use the ",-1)),b(d,{name:"pencil",size:"1"}),i[9]||(i[9]=q(" to select more.",-1))])])])):u("",!0)]),v("div",H,[(m(!0),s(h,null,w(Y.value.complete,e=>{var l,t;return m(),s("div",{class:c(["box bundleSlot",{bundleSlotActive:C.value.completed[e-1]}]),key:e},["Vault"===a.room&&C.value.completed[e-1]?(m(),p(d,{key:0,name:"gold-coin-stack"})):C.value.completed[e-1]?(m(),s("div",{key:1,class:"appIcon",style:y(f(g)({texture:null===(l=Z(C.value.completed[e-1]))||void 0===l?void 0:l.itemData.texture,index:null===(t=Z(C.value.completed[e-1]))||void 0===t?void 0:t.itemData.sprite,scale:2}))},null,4)):u("",!0)],2)}),128))])]),v("div",V,["Abandoned Joja Mart"===e.room?(m(),s("div",E,[i[10]||(i[10]=v("div",{class:"tagGroup",style:{"align-items":"center",gap:"0.4rem"}},[v("div",{class:"miniLabel"},[v("small",null,"Bundle Reward"),q(" Movie Theater ")])],-1)),C.value.completed.length===Y.value.complete?(m(),p(d,{key:0,name:`bundle-${Y.value.colorIndex}-complete`,size:"2"},null,8,["name"])):u("",!0)])):(m(),s("button",{key:1,class:"tag tagBlock btn rewardBox",onClick:i[4]||(i[4]=e=>ee(Y.value.reward))},[v("div",J,[v("div",{class:"appIcon",style:y(f(g)({texture:"BO"===Y.value.reward.type?"TileSheets\\Craftables":Y.value.reward.itemData.texture,index:Y.value.reward.itemData.sprite,scale:"BO"===Y.value.reward.type?1:2}))},null,4),v("div",W,[i[11]||(i[11]=v("small",null,"Bundle Reward",-1)),q(" "+x(Y.value.reward.quantity?Y.value.reward.quantity+"x ":"")+x(Y.value.reward.itemData.displayName||Y.value.reward.itemData.name),1)])]),C.value.completed.length===Y.value.complete?(m(),p(d,{key:0,name:`bundle-${Y.value.colorIndex}-complete`,size:"2"},null,8,["name"])):(m(),p(d,{key:1,name:`bundle-${Y.value.colorIndex}`,size:"2"},null,8,["name"]))]))])],2)):u("",!0)}}}),[["__scopeId","data-v-3dac132b"]]),X={key:0,class:"mainList"},Y={class:"detailIntro"},Z={class:"detailIntroContainer"},ee={class:"detailIntroSprite"},le={class:"detailIntroContent detailIntroContentCenter"},ae={class:"note parchment",style:{display:"flex","align-items":"center",gap:"0.4rem"}},te={style:{"text-wrap":"pretty"}};e("default",D(a({__name:"BundleDetails",setup(e){const l=t(),a=C(),n=i(),d=a.params.id;return r(()=>{n.value=l.getItemById(a.params.id,"bundle"),l.header={hideIcon:!0,hideUp:!1,upPath:"/collections/bundle",label:a.params.id,bookmark:{appType:"bundle",link:`/collections/bundle/${d}`,id:d.replaceAll(" ",""),name:d,scale:2}},l.logs&&console.info("[ðŸªµ] âž¡ï¸ CURRENT BUNDLE ROOM:",n.value)}),(e,a)=>{const t=o("icon"),i=o("wiki-link"),r=o("app-footer-message"),c=o("app-fab");return m(),s("main",null,[n.value?(m(),s("div",X,[v("div",Y,[v("div",Z,[v("div",ee,[f(l).checkForRoomBundleCompletion(f(d))?(m(),p(t,{key:0,name:"star-cc-filled",size:"4"})):(m(),p(t,{key:1,name:"star-cc-empty",size:"4"}))]),v("div",le,["Crafts Room"===f(d)?(m(),s(h,{key:0},[a[0]||(a[0]=v("div",{class:"detailIntroDescription miniLabel"},[v("small",null,"Reward"),q(" Bridge Repair ")],-1)),a[1]||(a[1]=v("div",{class:"detailIntroDescription miniLabel"},[v("small",null,"Unlocks"),q(" Quarry ")],-1))],64)):u("",!0),"Pantry"===f(d)?(m(),s(h,{key:1},[a[2]||(a[2]=v("div",{class:"detailIntroDescription miniLabel"},[v("small",null,"Reward"),q(" Greenhouse Repaired ")],-1)),a[3]||(a[3]=v("div",{class:"detailIntroDescription miniLabel"},[v("small",null,"Unlocks"),q(" All-year farming ")],-1))],64)):u("",!0),"Fish Tank"===f(d)?(m(),s(h,{key:2},[a[4]||(a[4]=v("div",{class:"detailIntroDescription miniLabel"},[v("small",null,"Reward"),q(" Glittering Boulder Removed ")],-1)),a[5]||(a[5]=v("div",{class:"detailIntroDescription miniLabel"},[v("small",null,"Unlocks"),q(" Panning with Copper Pan ")],-1))],64)):u("",!0),"Boiler Room"===f(d)?(m(),s(h,{key:3},[a[6]||(a[6]=v("div",{class:"detailIntroDescription miniLabel"},[v("small",null,"Reward"),q(" Minecarts Repaired ")],-1)),a[7]||(a[7]=v("div",{class:"detailIntroDescription miniLabel"},[v("small",null,"Unlocks"),q(" Fast travel ")],-1))],64)):u("",!0),"Vault"===f(d)?(m(),s(h,{key:4},[a[8]||(a[8]=v("div",{class:"detailIntroDescription miniLabel"},[v("small",null,"Reward"),q(" Bus Repaired ")],-1)),a[9]||(a[9]=v("div",{class:"detailIntroDescription miniLabel"},[v("small",null,"Unlocks"),q(" Access to Calico Desert ")],-1))],64)):u("",!0),"Abandoned Joja Mart"===f(d)?(m(),s(h,{key:5},[a[10]||(a[10]=v("div",{class:"detailIntroDescription miniLabel"},[v("small",null,"Reward"),q(" JojaMart converted to Movie Theater ")],-1)),a[11]||(a[11]=v("div",{class:"detailIntroDescription miniLabel"},[v("small",null,"Unlocks"),q(" Fun time with friends! ")],-1))],64)):u("",!0)])])]),(m(!0),s(h,null,w(Object.keys(f(l).bundles[f(d)]).length,e=>(m(),p(K,{key:e,room:f(d),bundleIndex:e-1},null,8,["room","bundleIndex"]))),128)),v("div",ae,[b(t,{name:"exclamation-green",size:"3.35",style:{flex:"0 0 auto"}}),v("div",te,[a[12]||(a[12]=q(" Change type of bundle between standard and remixed by selecting the ",-1)),b(t,{name:"bundle",size:"1",style:{"vertical-align":"middle"},"aria-label":"bundle icon"}),a[13]||(a[13]=q(" button. Some bundles can require different items which you can select with the ",-1)),b(t,{name:"pencil",size:"1",style:{"vertical-align":"middle"},"aria-label":"pencil icon"}),a[14]||(a[14]=q(" button. Click an item in the bundle to mark it as complete. ",-1))])]),b(i,{name:"bundles"})])):u("",!0),b(r,{type:"bundle"}),b(c)])}}}),[["__scopeId","data-v-0e029fb4"]]))}}});
